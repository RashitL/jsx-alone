!function(){return function e(t,n,r){function s(l,i){if(!n[l]){if(!t[l]){var a="function"==typeof require&&require;if(!i&&a)return a(l,!0);if(o)return o(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};t[l][0].call(u.exports,function(e){return s(t[l][1][e]||e)},u,u.exports,e,t,n,r)}return n[l].exports}for(var o="function"==typeof require&&require,l=0;l<r.length;l++)s(r[l]);return s}}()({1:[function(e,t,n){"use strict";;const r=e("./"),s=e("./createElement"),o=e("./elementClass");class l extends r.AbstractElementLike{render(e={}){return{tag:this.tag,innerHtml:this.innerHtml,attrs:this.attrs,children:this.children.map(e=>Object.assign({},e,{parentElement:void 0}))}}dangerouslySetInnerHTML(e){this.innerHtml=e}}n.JsonImplElementLikeImpl=l;class i extends r.AbstractTextNodeLike{render(e){return{content:this.content}}}n.JsonImplTextNodeLikeImpl=i;n.JsonImplElementClass=class extends o.AbstractElementClass{},n.JSXAloneJsonImpl={createElement:s.createCreateElement({impl:l,textNodeImpl:i}),render:(e,t={})=>e.render(t)}},{"./":5,"./createElement":2,"./elementClass":3}],2:[function(e,t,n){"use strict";;const r=e("./elementImpl");n.createCreateElement=function(e){const{impl:t,textNodeImpl:n,onElementReady:s,onElementCreated:o}=e;return function(e,l={},...i){let a,c;const u="string"==typeof e;return l=l||{},u?a=new t(e):r.isElementClassConstructor(e)?(c=new e(Object.assign({},l,{children:i})),a=c.render()):a=e(Object.assign({},l,{children:i})),o&&o({elementLike:a,elementClassInstance:c,attrs:l}),u&&(Object.keys(l).forEach(e=>{const t=l[e],n=typeof t;"string"===n||"number"===n?a.setAttribute(e,t):"function"===n?a.setAttribute(e,t):!1===t||(!0===t?a.setAttribute(e,e):"dangerouslySetInnerHTML"===e&&t?a.dangerouslySetInnerHTML(t.__html):a.setAttribute(e,t))}),i.filter(e=>e).forEach(e=>{r.isNode(e)?a.appendChild(e):Array.isArray(e)?e.forEach(e=>{r.isNode(e)?a.appendChild(e):a.appendChild(new n(e))}):a.appendChild(new n(e))})),s&&s({elementLike:a}),a}},n.AbstractJSXAlone=null;const s=!1;n.debug=function(e){if(s)throw e;console.error(e)}},{"./elementImpl":4}],3:[function(e,t,n){"use strict";;class r{constructor(e){this.props=e}}n.ElementClass=r;n.AbstractElementClass=class extends r{}},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.setAttribute}function s(e){return e&&e.content&&!r(e)}1,n.isElementClassConstructor=function(e){return e.prototype&&e.prototype.render},n.isNode=function(e){return s(e)||r(e)},n.isElementLike=r,n.isTextNodeLike=s;n.AbstractTextNodeLike=class{constructor(e){this.content=e}};n.AbstractElementLike=class{constructor(e){this.tag=e,this.attrs={},this.children=[]}setAttribute(e,t){this.attrs[e]=t}appendChild(e){this.children.push(e),r(e)&&(e.parentElement=this)}}},{}],5:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}1,r(e("./elementImpl")),r(e("./elementClass")),r(e("./createElement"));var s=e("./elementImpl");n.AbstractTextNodeLike=s.AbstractTextNodeLike,n.AbstractElementLike=s.AbstractElementLike,r(e("./misc")),r(e("./util")),r(e("./style")),r(e("./JsonImpl"))},{"./JsonImpl":1,"./createElement":2,"./elementClass":3,"./elementImpl":4,"./misc":6,"./style":7,"./util":8}],6:[function(e,t,n){(function(t){"use strict";;const r=e(".");function s(){return"undefined"==typeof window&&"undefined"==typeof document?t:window}n.Js=function(e){const t=e.children();return console.log(t),t?r.AbstractJSXAlone.createElement("span",null,t):null},n.If=function(e){const t=Array.isArray(e.children)?e.children[0]:e.children,{c:n,p:r}=e;return n?t.apply(null,[...r?[r]:[],n]):null},n.getGlobal=s,n.installJSXAloneAsGlobal=function(e){s().JSXAlone=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{".":5}],7:[function(e,t,n){"use strict";;const r=e(".");n.Style=(e=>{function t(t){return e.renderConfig&&e.renderConfig.indent?r.indent(t):""}return JSXAlone.createElement("style",null,Object.keys(e.classes).map(n=>`${t(1)}.${n}${e.classes[n]&&e.classes[n].selectorPostfix?e.classes[n].selectorPostfix:""} {${Object.keys(e.classes[n]).filter(e=>"selectorPostfix"!==e).map(r=>`\n${t(2)}${function(e){let t;for(;t=/([A-Z])/.exec(e);)e=e.substring(0,t.index)+"-"+t[1].toLowerCase()+e.substring(t.index+1,e.length);return e}(r)}: ${e.classes[n][r]};`).join("")}\n}`).join("\n"))}),n.Styles=function(e){const t={};return Object.keys(e).forEach(e=>{t[e]=e}),{styles:e,classes:t}}},{".":5}],8:[function(e,t,n){"use strict";function r(e,t){const n=[];for(let r=0;r<e;r++)n.push(void 0===t?r:t);return n}function s(e,t){return r(e,t).join("")}function o(e,t){return Math.floor(Math.random()*t)+e}1,n.checkThrow=function(e,t="Throwing on undefined value"){if(!e)throw new Error(t);return e},n.array=r,n.repeat=s,n.indent=function(e=1,t=2){return s(e*t," ")},n.getPosition=function(e,t,n){return e.split(t,n).join(t).length},n.removeWhites=function(e,t=" "){return e.replace(/\s+/gm,t).trim()},n.randomIntBetween=o,n.randomItem=function(e){return e[o(0,e.length)]},n.printMs=function(e,t={minutes:!1,seconds:!0,ms:!0}){const n=(t=Object.assign({minutes:!1,seconds:!0,ms:!0},t)).seconds&&Math.floor(e/1e3),r=t.minutes&&n&&Math.floor(n/60),s=t.ms&&Math.floor(e%1e3||e);return`${r?`${r} minutes `:""}${n?`${n} seconds `:""}${s?`${s} ms `:""}`},n.printStyleHtmlAttribute=function(e){return`${Object.keys(e).map(t=>`${t}: ${e[t]}`).join("; ")}`};let l=0;n.unique=function(e="_"){return e+l++}},{}],9:[function(e,t,n){"use strict";;const r=e("./"),s=e("./StatefulComponent");n.DestructiveDomRenderComponent=class extends s.StatefulComponent{setState(e){if(super.setState(e),!this.containerEl)throw new Error("this.containerEl is undefined - cannot DestructiveDomRender");let t,n={start:0,end:0};document.activeElement&&(t=function e(t){if("string"==typeof t)return document.evaluate(t,document,null,0,null)+"";if(!t||1!=t.nodeType)return"";if(t.id)return"//*[@id='"+t.id+"']";if(t.parentNode){const n=Array.from(t.parentNode.children).filter(e=>e.tagName==t.tagName);return e(t.parentNode)+"/"+(t.tagName||"").toLowerCase()+(n.length>1?"["+(n.indexOf(t)+1)+"]":"")}}(document.activeElement),n={start:document.activeElement.selectionStart||0,end:document.activeElement.selectionEnd||0,direction:document.activeElement.selectionDirection||void 0});const s=this.render(),o=r.JSXAlone.render(s);if(this.containerEl.parentElement.replaceChild(o,this.containerEl),this.containerEl=o,t){const e=function(e,t){const n=document.evaluate(e,document,null,0,null);if(!t)return n.iterateNext();try{let e,r;for(;(e=n.iterateNext())&&!t(e);)r=e;return r}catch(e){alert("Error: Document tree modified during iteration "+e)}}(t+"");e&&n&&(e.focus(),e.setSelectionRange&&e.setSelectionRange(n.start,n.end,n.direction))}}}},{"./":13,"./StatefulComponent":10}],10:[function(e,t,n){"use strict";;const r=e("./");n.StatefulComponent=class extends r.ElementClass{constructor(e){super(e),this.state={},this.state=Object.assign({},e)}setState(e){this.state=Object.assign({},this.state,e)}}},{"./":13}],11:[function(e,t,n){"use strict";;const r=e("jsx-alone-core"),s=e("../..");class o extends s.ElementClass{render(){return s.JSXAlone.createElement("button",{onClick:this.props.onClick},this.props.children)}}class l extends s.ElementClass{render(){return s.JSXAlone.createElement("div",null,this.props.children)}}const i=s.JSXAlone.createElement("div",null,s.JSXAlone.createElement("button",{onClick:e=>{console.log(this,r.printMs(Date.now()),"bar")}},"no root element class2"),s.JSXAlone.createElement(l,null,s.JSXAlone.createElement("button",{onClick:e=>{console.log(this,r.printMs(Date.now()),"bar")}},"should not override this with Container")),s.JSXAlone.createElement(class extends s.ElementClass{foo(){return r.printMs(Date.now())}render(){return s.JSXAlone.createElement("div",null,s.JSXAlone.createElement(l,null,s.JSXAlone.createElement("p",null,"just some tests for function attributes context - most doesn't work because don't use extras, just core dom implementation",s.JSXAlone.createElement("button",{onClick:e=>{console.log(this,this.props.name,this.foo(),"hello")}},"Render!"),s.JSXAlone.createElement(l,null,s.JSXAlone.createElement("button",{onClick:e=>{console.log(this,this.props.name,this.foo(),"hello")}},"sss!")),s.JSXAlone.createElement(o,{onClick:e=>{console.log(this,this.props.name,this.foo(),"hello")}},"second"))))}},{name:"John Doe",tasks:["Wash dishes","Go outside","Play soccer"]})),a=s.JSXAlone.render(i);document.body.appendChild(a)},{"../..":13,"jsx-alone-core":5}],12:[function(e,t,n){"use strict";;const r=e("jsx-alone-core"),s=e("jsx-alone-dom");n.ElementClass=s.ElementClass,n.createCreateConfig=Object.assign({},s.getCreateCreateElementConfig(),{impl:s.ElementLikeImpl,textNodeImpl:s.TextNodeLikeImpl}),n.JSXAlone={createElement:r.createCreateElement(n.createCreateConfig),render:s.JSXAlone.render,createRef:s.JSXAlone.createRef}},{"jsx-alone-core":5,"jsx-alone-dom":18}],13:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}1,r(e("./createElement")),r(e("./StatefulComponent")),r(e("./DestructiveDomRenderComponent"))},{"./DestructiveDomRenderComponent":9,"./StatefulComponent":10,"./createElement":12}],14:[function(e,t,n){"use strict";;const r=e("jsx-alone-core"),s=e("."),o=e("./event"),l=e("./refs");let i;function a(){return i||(i={impl:s.ElementLikeImpl,textNodeImpl:s.TextNodeLikeImpl,onElementCreated({elementLike:e,elementClassInstance:t,attrs:n}){t&&(e._elementClassInstance=t),e.ref=n.ref}}),i}n.getCreateCreateElementConfig=a,n.JSXAlone=function(){const e={createElement:r.createCreateElement(a()),render(t,n){const r=t,s=Object.assign({},n,{rootElementLike:r}),l=r.buildRootElement(s),i=new o.RootEventManager(l),a=Object.assign({},s,{eventManager:i,rootHTMLElement:l});return e.lastEventManager=i,r.render(a)},createRef:()=>new l.RefObjectImpl};return e}()},{".":18,"./event":17,"./refs":20,"jsx-alone-core":5}],15:[function(e,t,n){"use strict";;const r=e("jsx-alone-core");n.ElementClass=class extends r.ElementClass{get eventManager(){return this._eventManager}setContainerEl(e){this.containerEl=e}destroy(){this.eventManager&&this.eventManager.uninstall()}}},{"jsx-alone-core":5}],16:[function(e,t,n){"use strict";;const r=e("jsx-alone-core"),s=e("./refs");n.ElementLikeImpl=class extends r.AbstractElementLike{buildRootElement(e){return function(e){const t=new RegExp(`^${e}$`,"i");return o.some(e=>t.test(e))}(this.tag)?document.createElementNS("http://www.w3.org/2000/svg",this.tag):document.createElement(this.tag)}render(e){const t=e.rootHTMLElement||this.buildRootElement(e);if(Object.keys(this.attrs).forEach(n=>{const s=this.attrs[n];"className"===n?t.setAttribute("class",s):"style"===n?t.setAttribute("style",r.printStyleHtmlAttribute(s)):"function"==typeof s?e.eventManager.addEventListener(t,n.replace(/^on/,"").toLowerCase(),s.bind(this)):t.setAttribute(n,s)}),this._innerHtml)t.innerHTML=this._innerHtml;else{const n=e.appendChildrenInDocumentFragment?document.createDocumentFragment():t;this.children.forEach(t=>{t.render(Object.assign({},e,{parent:n,rootHTMLElement:void 0}))}),t!==n&&t.appendChild(n)}e.parent&&e.parent.appendChild(t);const n=this._elementClassInstance||e.rootElementLike._elementClassInstance;return this.ref&&s.setRef({elementLike:this,el:t,value:this.ref}),n&&n.setContainerEl&&(n._eventManager=e.eventManager,n.setContainerEl(t)),t}dangerouslySetInnerHTML(e){this._innerHtml=e}};n.TextNodeLikeImpl=class extends r.AbstractTextNodeLike{render(e){const t=document.createTextNode(this.content);return e.parent&&e.parent.appendChild(t),t}};const o=["path","svg","use","g"]},{"./refs":20,"jsx-alone-core":5}],17:[function(e,t,n){"use strict";;const r=e("./mark"),s=e("jsx-alone-core");n.RootEventManager=class{constructor(e,t){this.root=e,this.debug=t,this.registeredByType={},this.mark="_jsxa_e"+s.unique("_"),this.rootListener=this.rootListener.bind(this)}markElement(e){return r.markElement(e,this.mark)}getElementMark(e){return r.getElementMark(e,this.mark)}getMarkedElement(e){return r.getMarkedElement(e,this.root,this.mark)}rootListener(e){if(e.target){const t=this.getElementMark(e.target),n=t&&(this.registeredByType[e.type.toLowerCase()]||[]).find(e=>e.mark===t);n&&n.fn(Object.assign({},e,{currentTarget:e.target}))}}addEventListener(e,t,n){t=t.toLowerCase();let r=this.registeredByType[t];r||(r=this.registeredByType[t]=[],this.root.addEventListener(t,this.rootListener));const s=this.markElement(e);let o=r.find(e=>e.mark===s);o||(o={mark:s,fn:n,type:t},r.push(o))}removeListeners(e,t){const n=this.getElementMark(e);n&&(t||Object.keys(this.registeredByType).map(e=>e.toLowerCase())).forEach(e=>{this.registeredByType[e]=(this.registeredByType[e]||[]).filter(e=>e.mark!==n)})}uninstall(e=!1,t){(t||Object.keys(this.registeredByType).map(e=>e.toLowerCase())).forEach(t=>{this.root.removeEventListener(t,this.rootListener),e&&this.registeredByType[t].forEach(e=>{const t=this.getMarkedElement(e.mark);t&&t.removeEventListener(e.type,e.fn,e.options)}),this.registeredByType[t]=[]})}}},{"./mark":19,"jsx-alone-core":5}],18:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}1,r(e("./elementImpl")),r(e("./createElement"));var s=e("./event");n.RootEventManager=s.RootEventManager,r(e("./elementClass"))},{"./createElement":14,"./elementClass":15,"./elementImpl":16,"./event":17}],19:[function(e,t,n){"use strict";;const r=e("jsx-alone-core");function s(e,t="_jsxa_"){return e.getAttribute(`data-${t}`)}function o(e,t){return t?`[data-${e}="${t}"]`:`[data-${e}]`}n.markElement=function(e,t="_jsxa_"){let n=e.getAttribute(`data-${t}`);return n||(n=r.unique(t),e.setAttribute(`data-${t}`,n)),n},n.getElementMark=s,n.isElementMarked=function(e,t="_jsxa_"){return!!s(e,t)},n.getMarkedElement=function(e,t=document,n="_jsxa_"){return t.querySelector(o(n,e))},n.getMarkSSelector=o},{"jsx-alone-core":5}],20:[function(e,t,n){"use strict";;const r=e("./mark");n.RefObjectImpl=class{constructor(){this._current=null}get current(){return"string"==typeof this._current?r.getMarkedElement(this._current):this._current}},n.setRef=function({el:e,value:t,elementLike:n}){t._current=n._elementClassInstance||r.markElement(e)}},{"./mark":19}]},{},[11]);