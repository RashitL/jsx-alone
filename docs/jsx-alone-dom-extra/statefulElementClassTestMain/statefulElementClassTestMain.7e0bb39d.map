{"version":3,"sources":["../../src/elementImpl.ts","../../src/elementClass.ts","../../src/createElement.ts","../../src/misc.tsx","../../src/util.ts","../../src/style.tsx","../../src/JsonImpl.ts","../../src/index.ts","../../src/mark.tsx","../../src/Refs.tsx","../../src/event.ts","../createElement.ts","../StatefulComponent.tsx","../DestructiveDomRenderComponent.tsx","../index.ts","statefulElementClassTestRenderApp.tsx","statefulElementClassTestMain.tsx"],"names":[],"mappings":";;;;AAIA,SAAgB,yBAAhB,CAA0C,CAA1C,EAAgD;AAC9C,SAAO,CAAC,CAAC,SAAF,IAAe,CAAC,CAAC,SAAF,CAAY,MAAlC;AACD;;AAFD,OAAA,CAAA,yBAAA,GAAA,yBAAA;;AAIA,SAAgB,MAAhB,CAA0B,CAA1B,EAAgC;AAC9B,SAAO,cAAc,CAAC,CAAD,CAAd,IAAqB,aAAa,CAAC,CAAD,CAAzC;AACD;;AAFD,OAAA,CAAA,MAAA,GAAA,MAAA;;AAIA,SAAgB,aAAhB,CAAiC,CAAjC,EAAuC;AACrC,SAAO,CAAC,IAAI,CAAC,CAAC,YAAd;AACD;;AAFD,AIXA,OJWA,CAAA,CIXgB,UAAhB,CAA8B,CJW9B,AIXA,EAAqC,CJWrC,EIXA,EAAwE,SJWxE;AIXqC,MAAA,GAAA,KAAA,KAAA,CAAA,EAAA;AJerC,AIfqC,IAAA,GAAA,EJerB,CIfqB,aJerC,CAAkC,CAAlC,EAAwC,YIfH;AJgBnC,AIhBsE,SJgB/D,CAAC,IAAI,CAAC,CAAC,OAAP,IAAkB,CAAC,aAAa,CAAC,CAAD,CAAvC;AACD;AIhBC,MAAI,CAAC,CAAL,EAAQ;AJcV,AIdY,OJcZ,CAAA,EIdkB,IAAI,KAAJ,CAAU,EJc5B,CIdkB,CAAN,CJcZ,cAAA;AIdkC;AJkBlC,IAAA,oBAAA,GAAA,YAAA;AACE,AIlBA,SAAO,CAAP,CJkBA,oBAAA,CAAmB,OAAnB,EAAkC;ACPpC,ADOqB,AIjBpB,IHUD,KDOqB,OCPrB,ADOqB,GCPrB,ADOqB,OAAA,KCPrB;AAEE,ADKsC,WCLtC,YAAA,CAA4B,KAA5B,EAAuD;AAA3B,AGf9B,OAAA,CAAA,CHe8B,KAAA,GAAA,CGf9B,GAAA,CHe8B,SGf9B;AHgBG,ADMH,SAAA,oBAAA;AAHA,AITA,CJSA,EAAA,MITgB,KAAhB,CAAkC,CAAlC,EAA6C,MAA7C,EAAuD;AHqBvD,AGpBE,MAAM,CAAC,EHoBT,CGpB4B,EAA1B,SHoBF;AAlBA,ADMsB,CCNtB,EAAA,IDMsB,CAAA,oBAAA,GAAA,oBAAA;AIPpB,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAApB,EAAuB,CAAC,EAAxB,EAA4B;AHCR,ADWtB,AIXI,IJWJ,AIXI,CAAC,CAAC,CHAgB,CAAA,EGAlB,CAAO,OAAO,EHAI,GAAA,ADWtB,CIXW,EJWX,GIX6B,MHAP,GDWtB,EIXW,GAAgC,CAAhC,GAAoC,MAA3C;AJqBF,AIpBC,WJoBD,mBAAA,CAAmB,GAAnB,EAA8B;ACFhC,ADEqB,ICFrB,KDEqB,GAAA,GAAA,GAAA,MCFrB,GAAA,UAAA,MAAA,EAAA;AAAyD,ADGrD,AIpBF,EHiBuD,ODGhD,AIpBA,CAAP,CHiBuD,CAAA,EDGrD,GAAa,EAAb,aCHqD,EAAA,MAAA,CAAA;ADIrD,AIpBH,SJoBQ,QAAL,GAAgB,EAAhB;ACJJ,ADKG,WCLH,oBAAA,GAAA;AGtBA,OAAA,CAAA,KAAA,GAAA,KAAA;AHsB2E,ADSzE,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,IAAb,EAA2B,KAA3B,EAAwC;AACtC,AIzBJ,SJyBS,AIzBO,KJyBZ,CAAW,AIzBf,CAAuB,CAAvB,EJyBI,AIzB8B,CAAlC,EAA2C,CJyBpB,KAAnB;ACVsE,ADWvE,AIzBD,GJuBA,MCTwE,AGdjE,KAAK,CAAC,CAAD,EAAI,CAAJ,CAAL,CAAY,IAAZ,CAAiB,EAAjB,CHciE,AGdxE;AHcF,AGbC,CHaD,CAAyD,YAAzD,CAAA;ADaE,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,CAAZ,EAA0B;ACbN,ADclB,AI7BJ,OHesB,AGftB,CHesB,AGftB,CJ6BS,KI7BT,GJ6BI,AI7BJ,CJ6BkB,IAAd,CAAmB,AI7BvB,CJ6BI,ICdkB,GAAA,oBAAA;;ADelB,AI3BJ,QJ2BQ,CI3BQ,MAAhB,CAAuB,CAAvB,EAAsC,EJ2BjB,CAAI,CAAJ,CAAjB,EAAyB,AI3B7B,EAAiD;AJ4B3C,AI5BiB,MJ4BjB,AI5BiB,CJ4BhB,AI5BgB,CJ4Bf,II5Be,KAAA,CAAA,EAAA,CJ4BjB,GAAkB,IAAlB;AACD,AI7BkB,IAAA,CAAA,GAAA,CAAA;AJ8BpB,AI9BiC,GJyBlC;;AASF,AIlCsC,MAAA,GJkCtC,IIlCsC,KAAA,KAAA,CAAA,EAAA,EJkCtC;AA9BA,AIJsC,CJItC,EAAA,CIJsC,OAAA,GAAA,CAAA;AAAW;AJI3B,OAAA,CAAA,mBAAA,GAAA,mBAAA;AIHpB,SAAO,MAAM,CAAC,CAAC,GAAG,OAAL,EAAc,GAAd,CAAb;AACD;;AAFD,OAAA,CAAA,MAAA,GAAA,MAAA;;AAIA,SAAgB,WAAhB,CAA4B,MAA5B,EAA4C,SAA5C,EAA+D,KAA/D,EAA4E;AAC1E,SAAO,MAAM,CAAC,KAAP,CAAa,SAAb,EAAwB,KAAxB,EAA+B,IAA/B,CAAoC,SAApC,EAA+C,MAAtD;AACD;;AAFD,OAAA,CAAA,WAAA,GAAA,WAAA;;AAIA,SAAgB,YAAhB,CAA6B,CAA7B,EAAwC,WAAxC,EAAuD;AAAf,MAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,GAAA;AAAe;;AACrD,SAAO,CAAC,CAAC,OAAF,CAAU,OAAV,EAAmB,WAAnB,EAAgC,IAAhC,EAAP;AACD;;AAFD,OAAA,CAAA,YAAA,GAAA,YAAA;;AAGA,SAAgB,gBAAhB,CAAiC,CAAjC,EAA4C,CAA5C,EAAqD;AACnD,SAAO,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,CAA3B,IAAgC,CAAvC;AACD;;AAFD,OAAA,CAAA,gBAAA,GAAA,gBAAA;;AAIA,SAAgB,UAAhB,CAA8B,KAA9B,EAAwC;AACtC,SAAO,KAAK,CAAC,gBAAgB,CAAC,CAAD,EAAI,KAAK,CAAC,MAAV,CAAjB,CAAZ;AACD;;AAFD,OAAA,CAAA,UAAA,GAAA,UAAA;;AAKA,SAAgB,OAAhB,CAAwB,EAAxB,EAAoC,MAApC,EAI+C;AAJX,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA;AAI9B,MAAA,OAAO,EAAE,KAJqB;AAId,MAAA,OAAO,EAAE,IAJK;AAIC,MAAA,EAAE,EAAE;AAJL,KAAA;AAIW;;AAC7C,EAAA,MAAM,GAAA,QAAA,CAAQ;AAAE,IAAA,OAAO,EAAE,KAAX;AAAkB,IAAA,OAAO,EAAE,IAA3B;AAAiC,IAAA,EAAE,EAAE;AAArC,GAAR,EAAwD,MAAxD,CAAN;AACA,MAAM,OAAO,GAAG,MAAM,CAAC,OAAP,IAAkB,IAAI,CAAC,KAAL,CAAW,EAAE,GAAG,IAAhB,CAAlC;AACA,MAAM,OAAO,GAAG,MAAM,CAAC,OAAP,IAAkB,OAAlB,IAA6B,IAAI,CAAC,KAAL,CAAW,OAAO,GAAG,EAArB,CAA7C;AACA,MAAM,YAAY,GAAG,MAAM,CAAC,EAAP,IAAa,IAAI,CAAC,KAAL,CAAW,EAAE,GAAG,IAAL,IAAa,EAAxB,CAAlC;AJ7CF,AI8CE,SJ9Cc,AI8CP,MAAG,OAAO,GAAM,OAAO,EJ9ChC,CAA0C,AI8CV,CJ9ChC,EAAgD,QI8C7B,GAA2B,EAArC,KAA0C,OAAO,GAAM,OAAO,GAAA,WAAb,GAA2B,EAA5E,KAAiF,YAAY,GAAM,YAAY,GAAA,MAAlB,GAA2B,EAAxH,CAAP;AJ7CA,AI8CD,SJ9CQ,CAAC,CAAC,SAAF,IAAe,CAAC,CAAC,SAAF,CAAY,MAAlC;AACD;AImCD,OAAA,CAAA,OAAA,GAAA,OAAA;AJrCA,OAAA,CAAA,yBAAA,GAAA,yBAAA;AIkDA,SAAgB,uBAAhB,CAAwC,KAAxC,EAAkD;AJ9ClD,AI+CE,SJ/Cc,AI+CP,KAAG,CJ/CZ,CAA0B,CAA1B,EAAgC,CI+Cd,CAAC,IAAP,CAAY,KAAZ,EACP,GADO,CACH,UAAA,CAAA,EAAC;AJ/CR,AI+CY,SJ/CL,EI+CQ,CAAC,GAAA,IAAD,GAAM,CJ/CA,CAAC,CAAD,CAAd,CI+CmB,CAAC,CAAD,CJ/CE,AI+ChB,aJ/C6B,CAAC,CAAD,CAAzC;AACD,AI8CgC,GADrB,EAEP,IAFO,CAEF,IAFE,CAAV;AAGD;AJlDD,OAAA,CAAA,MAAA,GAAA,MAAA;AI8CA,OAAA,CAAA,uBAAA,GAAA,uBAAA;AJ1CA,AIiDA,IAAI,KJjDY,EIiDL,GAAW,CAAtB,OJjDA,CAAiC,CAAjC,EAAuC;AACrC,SAAO,CAAC,IAAI,CAAC,CAAC,YAAd;AACD,AIgDD,SAAgB,MAAhB,CAAuB,MAAvB,EAAyC;AAAlB,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AJlDvB,AIkDuB,IAAA,GJlDvB,CAAA,EIkDuB,GAAA,GAAA,KJlDvB,GAAA,aAAA;AIkDyC;AJ9CzC,SAAgB,cAAhB,CAAkC,CAAlC,EAAwC;AACtC,AI8CA,SJ9CO,AI8CA,CJ9CC,IAAI,CAAC,AI8CA,CJ9CC,EI8CA,KJ9CP,EI8Cc,EJ9CI,AI8CzB,CJ9C0B,aAAa,CAAC,CAAD,CAAvC;AACD,AI8CA;;AJhDD,AI8CA,OJ9CA,AI8CA,CJ9CA,AI8CA,MAAA,GAAA,KJ9CA,CI8CA,EJ9CA,cAAA;;AAIA,IAAA,oBAAA,GAAA,YAAA;AACE,WAAA,oBAAA,CAAmB,OAAnB,EAAkC;AAAf,SAAA,OAAA,GAAA,OAAA;AAAmB;;AAExC,SAAA,oBAAA;AAHA,CAAA,EAAA;;AAAsB,OAAA,CAAA,oBAAA,GAAA,oBAAA;;AAKtB,IAAA,mBAAA,GAAA,YAAA;AAUE,WAAA,mBAAA,CAAmB,GAAnB,EAA8B;AAAX,SAAA,GAAA,GAAA,GAAA;AACjB,SAAK,KAAL,GAAa,EAAb;AACA,SAAK,QAAL,GAAgB,EAAhB;AACD;;AAID,EAAA,mBAAA,CAAA,SAAA,CAAA,YAAA,GAAA,UAAa,IAAb,EAA2B,KAA3B,EAAwC;AACtC,SAAK,KAAL,CAAW,IAAX,IAAmB,KAAnB;AACD,GAFD;;AAIA,EAAA,mBAAA,CAAA,SAAA,CAAA,WAAA,GAAA,UAAY,CAAZ,EAA0B;AACxB,SAAK,QAAL,CAAc,IAAd,CAAmB,CAAnB;;AACA,QAAI,aAAa,CAAI,CAAJ,CAAjB,EAAyB;AACvB,MAAA,CAAC,CAAC,aAAF,GAAkB,IAAlB;AACD;AACF,GALD;;AASF,SAAA,mBAAA;AA9BA,CAAA,EAAA;;AAAsB,OAAA,CAAA,mBAAA,GAAA,mBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXtB,IAAA,YAAA,GAAA,YAAA;AAEE,WAAA,YAAA,CAA4B,KAA5B,EAAuD;AAA3B,SAAA,KAAA,GAAA,KAAA;AAC3B;;AAeH,SAAA,YAAA;AAlBA,CAAA,EAAA;;AAAsB,OAAA,CAAA,YAAA,GAAA,YAAA;;AAmBtB,IAAA,oBAAA,GAAA,UAAA,MAAA,EAAA;AAAyD,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;;AAAzD,WAAA,oBAAA,GAAA;;AAA2E;;AAAD,SAAA,oBAAA;AAA1E,CAAA,CAAyD,YAAzD,CAAA;;AAAsB,OAAA,CAAA,oBAAA,GAAA,oBAAA;;;;;;;;;;;;;;;;;;;;;;;;AChCtB,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAIA,SAAgB,mBAAhB,CAAgF,MAAhF,EAAuH;AAE7G,MAAA,IAAA,GAAA,MAAA,CAAA,IAAA;AAAA,MAAM,YAAA,GAAA,MAAA,CAAA,YAAN;AAAA,MAAoB,cAAA,GAAA,MAAA,CAAA,cAApB;AAAA,MAAoC,eAAA,GAAA,MAAA,CAAA,gBAApC;;AAER,MAAM,aAAa,GAAgC,SAA7C,aAA6C,CAAU,GAAV,EAAe,KAAf,EAAyB;AAAV,QAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,KAAA,GAAA,EAAA;AAAU;;AAAE,QAAA,QAAA,GAAA,EAAA;;SAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,SAAA,CAAA,QAAA,EAAA,IAAkB;AAAlB,MAAA,QAAA,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AAC5E,QAAI,OAAJ;AACA,QAAI,oBAAJ;AACA,QAAM,WAAW,GAAG,OAAO,GAAP,KAAe,QAAnC;AAEA,IAAA,KAAK,GAAG,KAAK,IAAI,EAAjB;;AAEA,QAAI,WAAJ,EAAiB;AACf,MAAA,OAAO,GAAG,IAAI,IAAJ,CAAS,GAAT,CAAV;AACD,KAFD,MAGK,IAAI,aAAA,CAAA,yBAAA,CAA0B,GAA1B,CAAJ,EAAoC;AACvC,MAAA,oBAAoB,GAAG,IAAI,GAAJ,CAAO,QAAA,CAAA,EAAA,EAAM,KAAN,EAAW;AAAE,QAAA,QAAQ,EAAE;AAAZ,OAAX,CAAP,CAAvB;AACA,MAAA,OAAO,GAAG,oBAAoB,CAAC,MAArB,EAAV;AACD,KAHI,MAIA;AACH,MAAA,OAAO,GAAI,GAAW,CAAA,QAAA,CAAA,EAAA,EAAM,KAAN,EAAW;AAAE,QAAA,QAAQ,EAAA;AAAV,OAAX,CAAA,CAAtB;AACD;;AACD,QAAI,eAAJ,EAAqB;AACnB,MAAA,eAAe,CAAC;AAAE,QAAA,WAAW,EAAE,OAAf;AAAwB,QAAA,oBAAoB,EAAA,oBAA5C;AAA8C,QAAA,KAAK,EAAA;AAAnD,OAAD,CAAf;AACD;;AAGD,QAAI,WAAJ,EAAiB;AAEf,MAAA,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,OAAnB,CAA2B,UAAA,IAAA,EAAI;AAC7B,YAAM,KAAK,GAAG,KAAK,CAAC,IAAD,CAAnB;;AACA,YAAM,IAAI,WAAU,KAAV,CAAV;;AACA,YAAI,IAAI,KAAK,QAAT,IAAqB,IAAI,KAAK,QAAlC,EAA4C;AAC1C,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,KAA3B;AACD,SAFD,MAGK,IAAI,IAAI,KAAK,UAAb,EAAyB;AAC5B,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,KAA3B;AACD,SAFI,MAGA,IAAI,KAAK,KAAK,KAAd,EAAqB,CAEzB,CAFI,MAGA,IAAI,KAAK,KAAK,IAAd,EAAoB;AACvB,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,IAA3B;AACD,SAFI,MAGA,IAAI,IAAI,KAAK,yBAAT,IAAsC,KAA1C,EAAiD;AACpD,UAAA,OAAO,CAAC,uBAAR,CAAgC,KAAK,CAAC,MAAtC;AACD,SAFI,MAGA;AACH,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,KAA3B;AACD;AACF,OArBD;AAuBA,MAAA,QAAQ,CACL,MADH,CACU,UAAA,CAAA,EAAC;AAAI,eAAA,CAAA;AAAC,OADhB,EAEG,OAFH,CAEW,UAAA,KAAA,EAAK;AACZ,YAAI,aAAA,CAAA,MAAA,CAAU,KAAV,CAAJ,EAAsB;AACpB,UAAA,OAAO,CAAC,WAAR,CAAoB,KAApB;AACD,SAFD,MAEO,IAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AAC/B,UAAA,KAAK,CAAC,OAAN,CAAc,UAAA,CAAA,EAAC;AACb,gBAAI,aAAA,CAAA,MAAA,CAAU,CAAV,CAAJ,EAAkB;AAChB,cAAA,OAAO,CAAC,WAAR,CAAoB,CAApB;AACD,aAFD,MAGK;AACH,cAAA,OAAO,CAAC,WAAR,CAAoB,IAAI,YAAJ,CAAiB,CAAjB,CAApB;AACD;AACF,WAPD;AAQD,SATM,MASA;AACL,UAAA,OAAO,CAAC,WAAR,CAAoB,IAAI,YAAJ,CAAiB,KAAjB,CAApB;AACD;AACF,OAjBH;AAkBD;;AAED,QAAI,cAAJ,EAAoB;AAClB,MAAA,cAAc,CAAC;AAAE,QAAA,WAAW,EAAE;AAAf,OAAD,CAAd;AACD;;AACD,WAAO,OAAP;AACD,GAvED;;AAwEA,SAAO,aAAP;AACD;;AA7ED,OAAA,CAAA,mBAAA,GAAA,mBAAA;AA+Ea,OAAA,CAAA,gBAAA,GAAkC,IAAlC;AAQb,IAAM,mBAAmB,GAAG,KAA5B;;AAEA,SAAgB,KAAhB,CAAsB,GAAtB,EAAiC;AAC/B,MAAI,mBAAJ,EAAyB;AACvB,UAAM,GAAN;AACD,GAFD,MAEO;AACL,IAAA,OAAO,CAAC,KAAR,CAAc,GAAd;AACD;AACF;;AAND,OAAA,CAAA,KAAA,GAAA,KAAA;;;;;;;AC7FA,IAAA,EAAA,GAAA,OAAA,CAAA,GAAA,CAAA;;AAQa,OAAA,CAAA,QAAA,GAAW,UAAC,KAAD,EAA8B;AAAG,SAAA,EAAA,CAAA,gBAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAO,KAAK,CAAC,QAAb,CAAA;AAA6B,CAAzE;;AAEb,SAAgB,EAAhB,CAAmB,KAAnB,EAA8D;AAC5D,MAAM,CAAC,GAAG,KAAK,CAAC,QAAN,EAAV;AACA,EAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACA,SAAO,CAAC,GAAG,EAAA,CAAA,gBAAA,CAAA,aAAA,CAAC,OAAA,CAAA,QAAD,EAAS,IAAT,EAAW,CAAX,CAAH,GAA8B,IAAtC;AACD;;AAJD,OAAA,CAAA,EAAA,GAAA,EAAA;;AAsDA,SAAgB,EAAhB,CACE,KADF,EAC6E;AAE7E,MAAM,CAAC,GAAG,KAAK,CAAC,OAAN,CAAc,KAAK,CAAC,QAApB,IAAgC,KAAK,CAAC,QAAN,CAAe,CAAf,CAAhC,GAAoD,KAAK,CAAC,QAApE;AACU,MAAA,CAAA,GAAA,KAAA,CAAA,CAAA;AAAA,MAAG,CAAA,GAAA,KAAA,CAAA,CAAH;AACR,MAAI,UAAU,CAAC,CAAD,CAAd,EACE,OAAO,CAAC,CAAC,KAAF,CAAQ,IAAR,EAAkB,CAAC,CAAC,GAAG,CAAC,CAAD,CAAH,GAAS,EAAX,EAAc,MAAd,CAAc,CAAE,CAAF,CAAd,CAAlB,CAAP,CADF,KAEK;AACH,WAAO,IAAP;AACD;AACF;;AAVD,OAAA,CAAA,EAAA,GAAA,EAAA;;AAaA,SAAS,UAAT,CAAuB,CAAvB,EAA2B;AAAsB,SAAO,CAAC,CAAC,CAAT;AAAY;;AAE7D,SAAgB,SAAhB,GAAyB;AACvB,SAAQ,OAAO,MAAP,KAAgB,WAAhB,IAA+B,OAAO,QAAP,KAAkB,WAAlD,GAAiE,MAAjE,GAA0E,MAAjF;AACD;;AAFD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAGA,SAAgB,uBAAhB,CAAwC,CAAxC,EAA0D;AACxD,EAAA,SAAS,GAAG,UAAH,CAAT,GAAwB,CAAxB;AACD;;AAFD,OAAA,CAAA,uBAAA,GAAA,uBAAA;;;;;;;;;;;;;;;;;;;;;;AClFA,SAAgB,UAAhB,CAA8B,CAA9B,EAAqC,GAArC,EAAwE;AAAnC,MAAA,GAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,GAAA,GAAA,6BAAA;AAAmC;;AACtE,MAAI,CAAC,CAAL,EAAQ;AAAE,UAAM,IAAI,KAAJ,CAAU,GAAV,CAAN;AAAsB;;AAChC,SAAO,CAAP;AACD;;AAHD,OAAA,CAAA,UAAA,GAAA,UAAA;;AAUA,SAAgB,KAAhB,CAAkC,CAAlC,EAA6C,MAA7C,EAAuD;AACrD,MAAM,CAAC,GAAmB,EAA1B;;AACA,OAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,CAApB,EAAuB,CAAC,EAAxB,EAA4B;AAC1B,IAAA,CAAC,CAAC,IAAF,CAAO,OAAO,MAAP,KAAkB,WAAlB,GAAgC,CAAhC,GAAoC,MAA3C;AACD;;AACD,SAAO,CAAP;AACD;;AAND,OAAA,CAAA,KAAA,GAAA,KAAA;;AAOA,SAAgB,MAAhB,CAAuB,CAAvB,EAAkC,CAAlC,EAA2C;AACzC,SAAO,KAAK,CAAC,CAAD,EAAI,CAAJ,CAAL,CAAY,IAAZ,CAAiB,EAAjB,CAAP;AACD;;AAFD,OAAA,CAAA,MAAA,GAAA,MAAA;;AAGA,SAAgB,MAAhB,CAAuB,CAAvB,EAAsC,OAAtC,EAAiD;AAA1B,MAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,CAAA,GAAA,CAAA;AAAa;;AAAE,MAAA,OAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,OAAA,GAAA,CAAA;AAAW;;AAC/C,SAAO,MAAM,CAAC,CAAC,GAAG,OAAL,EAAc,GAAd,CAAb;AACD;;AAFD,OAAA,CAAA,MAAA,GAAA,MAAA;;AAIA,SAAgB,WAAhB,CAA4B,MAA5B,EAA4C,SAA5C,EAA+D,KAA/D,EAA4E;AAC1E,SAAO,MAAM,CAAC,KAAP,CAAa,SAAb,EAAwB,KAAxB,EAA+B,IAA/B,CAAoC,SAApC,EAA+C,MAAtD;AACD;;AAFD,OAAA,CAAA,WAAA,GAAA,WAAA;;AAIA,SAAgB,YAAhB,CAA6B,CAA7B,EAAwC,WAAxC,EAAuD;AAAf,MAAA,WAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,WAAA,GAAA,GAAA;AAAe;;AACrD,SAAO,CAAC,CAAC,OAAF,CAAU,OAAV,EAAmB,WAAnB,EAAgC,IAAhC,EAAP;AACD;;AAFD,OAAA,CAAA,YAAA,GAAA,YAAA;;AAGA,SAAgB,gBAAhB,CAAiC,CAAjC,EAA4C,CAA5C,EAAqD;AACnD,SAAO,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,CAA3B,IAAgC,CAAvC;AACD;;AAFD,OAAA,CAAA,gBAAA,GAAA,gBAAA;;AAIA,SAAgB,UAAhB,CAA8B,KAA9B,EAAwC;AACtC,SAAO,KAAK,CAAC,gBAAgB,CAAC,CAAD,EAAI,KAAK,CAAC,MAAV,CAAjB,CAAZ;AACD;;AAFD,OAAA,CAAA,UAAA,GAAA,UAAA;;AAKA,SAAgB,OAAhB,CAAwB,EAAxB,EAAoC,MAApC,EAI+C;AAJX,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA;AAI9B,MAAA,OAAO,EAAE,KAJqB;AAId,MAAA,OAAO,EAAE,IAJK;AAIC,MAAA,EAAE,EAAE;AAJL,KAAA;AAIW;;AAC7C,EAAA,MAAM,GAAA,QAAA,CAAQ;AAAE,IAAA,OAAO,EAAE,KAAX;AAAkB,IAAA,OAAO,EAAE,IAA3B;AAAiC,IAAA,EAAE,EAAE;AAArC,GAAR,EAAwD,MAAxD,CAAN;AACA,MAAM,OAAO,GAAG,MAAM,CAAC,OAAP,IAAkB,IAAI,CAAC,KAAL,CAAW,EAAE,GAAG,IAAhB,CAAlC;AACA,MAAM,OAAO,GAAG,MAAM,CAAC,OAAP,IAAkB,OAAlB,IAA6B,IAAI,CAAC,KAAL,CAAW,OAAO,GAAG,EAArB,CAA7C;AACA,MAAM,YAAY,GAAG,MAAM,CAAC,EAAP,IAAa,IAAI,CAAC,KAAL,CAAW,EAAE,GAAG,IAAL,IAAa,EAAxB,CAAlC;AACA,SAAO,MAAG,OAAO,GAAM,OAAO,GAAA,WAAb,GAA2B,EAArC,KAA0C,OAAO,GAAM,OAAO,GAAA,WAAb,GAA2B,EAA5E,KAAiF,YAAY,GAAM,YAAY,GAAA,MAAlB,GAA2B,EAAxH,CAAP;AACD;;AAVD,OAAA,CAAA,OAAA,GAAA,OAAA;;AAaA,SAAgB,uBAAhB,CAAwC,KAAxC,EAAkD;AAChD,SAAO,KAAG,MAAM,CAAC,IAAP,CAAY,KAAZ,EACP,GADO,CACH,UAAA,CAAA,EAAC;AAAI,WAAG,CAAC,GAAA,IAAD,GAAM,KAAK,CAAC,CAAD,CAAd;AAAmB,GADrB,EAEP,IAFO,CAEF,IAFE,CAAV;AAGD;;AAJD,OAAA,CAAA,uBAAA,GAAA,uBAAA;AAOA,IAAI,OAAO,GAAW,CAAtB;;AACA,SAAgB,MAAhB,CAAuB,MAAvB,EAAyC;AAAlB,MAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,MAAA,GAAA,GAAA;AAAkB;;AACvC,SAAO,MAAM,GAAC,OAAO,EAArB;AACD;;AAFD,OAAA,CAAA,MAAA,GAAA,MAAA;;;;;;AC9DA,IAAA,EAAA,GAAA,OAAA,CAAA,GAAA,CAAA;;AAyBa,OAAA,CAAA,KAAA,GAAQ,UAAC,KAAD,EAAkB;AACrC,WAAS,MAAT,CAAgB,CAAhB,EAAyB;AACvB,WAAO,KAAK,CAAC,YAAN,IAAsB,KAAK,CAAC,YAAN,CAAmB,MAAzC,GAAkD,EAAA,CAAA,MAAA,CAAW,CAAX,CAAlD,GAAkE,EAAzE;AACD;;AACD,WAAS,WAAT,CAAqB,CAArB,EAA6B;AAC3B,QAAI,CAAJ;;AACA,WAAO,CAAC,GAAI,UAAU,IAAV,CAAe,CAAf,CAAZ,EAA+B;AAC3B,MAAA,CAAC,GAAE,CAAC,CAAC,SAAF,CAAY,CAAZ,EAAe,CAAC,CAAC,KAAjB,IAAwB,GAAxB,GAA4B,CAAC,CAAC,CAAD,CAAD,CAAK,WAAL,EAA5B,GAA+C,CAAC,CAAC,SAAF,CAAY,CAAC,CAAC,KAAF,GAAQ,CAApB,EAAuB,CAAC,CAAC,MAAzB,CAAlD;AACH;;AACD,WAAO,CAAP;AACD;;AAGD,SAAO,QAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,OAAlB,EAA2B,GAA3B,CAA+B,UAAA,CAAA,EAAC;AAC7C,WAAG,MAAM,CAAC,CAAD,CAAN,GAAS,GAAT,GAAa,CAAb,IAAkB,KAAK,CAAC,OAAN,CAAc,CAAd,KAAoB,KAAK,CAAC,OAAN,CAAc,CAAd,EAAiB,eAArC,GAAuD,KAAK,CAAC,OAAN,CAAc,CAAd,EAAiB,eAAxE,GAA0F,EAA5G,IAA+G,IAA/G,GAAoH,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,OAAN,CAAc,CAAd,CAAZ,EAA8B,MAA9B,CAAqC,UAAA,CAAA,EAAC;AAAE,aAAA,CAAC,KAAG,iBAAJ;AAAqB,KAA7D,EAA+D,GAA/D,CAAmE,UAAA,CAAA,EAAC;AAAG,aAAA,OAChM,MAAM,CAAC,CAAD,CAD0L,GACpL,WAAW,CAAC,CAAD,CADyK,GACtK,IADsK,GACjK,KAAK,CAAC,OAAN,CAAc,CAAd,EAAiB,CAAjB,CADiK,GACvI,GADuI;AACpI,KAD6D,EAEzH,IAFyH,CAEpH,EAFoH,CAApH,GAEG,KAFN;AAGF,GAJe,EAIb,IAJa,CAIR,IAJQ,CAAR,CAAP;AAMD,CAnBY;;AAuBb,SAAgB,MAAhB,CAA6D,MAA7D,EAAsE;AACpE,MAAM,OAAO,GAAQ,EAArB;AACA,EAAA,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,OAApB,CAA4B,UAAA,CAAA,EAAC;AAC3B,IAAA,OAAO,CAAC,CAAD,CAAP,GAAa,CAAb;AACD,GAFD;AAGA,SAAO;AACL,IAAA,MAAM,EAAA,MADD;AACG,IAAA,OAAO,EAAA;AADV,GAAP;AAGD;;AARD,OAAA,CAAA,MAAA,GAAA,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA,IAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AAEA,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AAgBA,IAAA,uBAAA,GAAA,UAAA,MAAA,EAAA;AAA6C,EAAA,SAAA,CAAA,uBAAA,EAAA,MAAA,CAAA;;AAA7C,WAAA,uBAAA,GAAA;;AAcC;;AAZC,EAAA,uBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAwC;AAAjC,QAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,MAAA,GAAA,EAAA;AAAiC;;AACtC,WAAO;AACL,MAAA,GAAG,EAAE,KAAK,GADL;AAEL,MAAA,SAAS,EAAE,KAAK,SAFX;AAGL,MAAA,KAAK,EAAE,KAAK,KAHP;AAIL,MAAA,QAAQ,EAAE,KAAK,QAAL,CAAc,GAAd,CAAkB,UAAA,CAAA,EAAC;AAAE,eAAA,QAAA,CAAA,EAAA,EAAK,CAAL,EAAM;AAAG,UAAA,aAAa,EAAE;AAAlB,SAAN,CAAA;AAAmC,OAAxD;AAJL,KAAP;AAMD,GAPD;;AASA,EAAA,uBAAA,CAAA,SAAA,CAAA,uBAAA,GAAA,UAAwB,CAAxB,EAAiC;AAC/B,SAAK,SAAL,GAAiB,CAAjB;AACD,GAFD;;AAGF,SAAA,uBAAA;AAdA,CAAA,CAA6C,EAAA,CAAA,mBAA7C,CAAA;;AAAa,OAAA,CAAA,uBAAA,GAAA,uBAAA;;AAgBb,IAAA,wBAAA,GAAA,UAAA,MAAA,EAAA;AAA8C,EAAA,SAAA,CAAA,wBAAA,EAAA,MAAA,CAAA;;AAA9C,WAAA,wBAAA,GAAA;;AAIC;;AAHC,EAAA,wBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAoC;AAClC,WAAO;AAAC,MAAA,OAAO,EAAE,KAAK;AAAf,KAAP;AACD,GAFD;;AAGF,SAAA,wBAAA;AAJA,CAAA,CAA8C,EAAA,CAAA,oBAA9C,CAAA;;AAAa,OAAA,CAAA,wBAAA,GAAA,wBAAA;;AAMb,IAAA,oBAAA,GAAA,UAAA,MAAA,EAAA;AAA2D,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;;AAA3D,WAAA,oBAAA,GAAA;;AAAuF;;AAAD,SAAA,oBAAA;AAAtF,CAAA,CAA2D,cAAA,CAAA,oBAA3D,CAAA;;AAAsB,OAAA,CAAA,oBAAA,GAAA,oBAAA;AAET,OAAA,CAAA,gBAAA,GAA8E;AAEzF,EAAA,aAAa,EAAE,eAAA,CAAA,mBAAA,CAA6D;AAAC,IAAA,IAAI,EAAE,uBAAP;AAAgC,IAAA,YAAY,EAAE;AAA9C,GAA7D,CAF0E;AAIzF,EAAA,MAAM,EAAA,gBAAC,EAAD,EAAK,MAAL,EAAgB;AAAX,QAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,MAAA,GAAA,EAAA;AAAW;;AACpB,WAAQ,EAAqC,CAAC,MAAtC,CAA6C,MAA7C,CAAR;AACD;AANwF,CAA9E;;;;;;;;;;;;AC1Cb,QAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AAIA,QAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,CAAA;;AAEA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAAQ,OAAA,CAAA,oBAAA,GAAA,aAAA,CAAA,oBAAA;AAAsB,OAAA,CAAA,mBAAA,GAAA,aAAA,CAAA,mBAAA;;AAC9B,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;ALZA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAIA,SAAgB,mBAAhB,CAAgF,MAAhF,EAAuH;AAE7G,MAAA,IAAA,GAAA,MAAA,CAAA,IAAA;AAAA,MAAM,YAAA,GAAA,MAAA,CAAA,YAAN;AAAA,MAAoB,cAAA,GAAA,MAAA,CAAA,cAApB;AAAA,MAAoC,eAAA,GAAA,MAAA,CAAA,gBAApC;;AAER,MAAM,aAAa,GAAgC,SAA7C,aAA6C,CAAU,GAAV,EAAe,KAAf,EAAyB;AAAV,QAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,KAAA,GAAA,EAAA;AAAU;;AAAE,QAAA,QAAA,GAAA,EAAA;;SAAA,IAAA,EAAA,GAAA,GAAA,EAAA,GAAA,SAAA,CAAA,QAAA,EAAA,IAAkB;AAAlB,MAAA,QAAA,CAAA,EAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,EAAA,CAAA;;;AAC5E,QAAI,OAAJ;AACA,QAAI,oBAAJ;AACA,QAAM,WAAW,GAAG,OAAO,GAAP,KAAe,QAAnC;AAEA,IAAA,KAAK,GAAG,KAAK,IAAI,EAAjB;;AAEA,QAAI,WAAJ,EAAiB;AACf,MAAA,OAAO,GAAG,IAAI,IAAJ,CAAS,GAAT,CAAV;AACD,KAFD,MAGK,IAAI,aAAA,CAAA,yBAAA,CAA0B,GAA1B,CAAJ,EAAoC;AACvC,MAAA,oBAAoB,GAAG,IAAI,GAAJ,CAAO,QAAA,CAAA,EAAA,EAAM,KAAN,EAAW;AAAE,QAAA,QAAQ,EAAE;AAAZ,OAAX,CAAP,CAAvB;AACA,MAAA,OAAO,GAAG,oBAAoB,CAAC,MAArB,EAAV;AACD,KAHI,MAIA;AACH,MAAA,OAAO,GAAI,GAAW,CAAA,QAAA,CAAA,EAAA,EAAM,KAAN,EAAW;AAAE,QAAA,QAAQ,EAAA;AAAV,OAAX,CAAA,CAAtB;AACD;;AACD,QAAI,eAAJ,EAAqB;AACnB,MAAA,eAAe,CAAC;AAAE,QAAA,WAAW,EAAE,OAAf;AAAwB,QAAA,oBAAoB,EAAA,oBAA5C;AAA8C,QAAA,KAAK,EAAA;AAAnD,OAAD,CAAf;AACD;;AAGD,QAAI,WAAJ,EAAiB;AAEf,MAAA,MAAM,CAAC,IAAP,CAAY,KAAZ,EAAmB,OAAnB,CAA2B,UAAA,IAAA,EAAI;AAC7B,YAAM,KAAK,GAAG,KAAK,CAAC,IAAD,CAAnB;;AACA,YAAM,IAAI,WAAU,KAAV,CAAV;;AACA,YAAI,IAAI,KAAK,QAAT,IAAqB,IAAI,KAAK,QAAlC,EAA4C;AAC1C,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,KAA3B;AACD,SAFD,MAGK,IAAI,IAAI,KAAK,UAAb,EAAyB;AAC5B,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,KAA3B;AACD,SAFI,MAGA,IAAI,KAAK,KAAK,KAAd,EAAqB,CAEzB,CAFI,MAGA,IAAI,KAAK,KAAK,IAAd,EAAoB;AACvB,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,IAA3B;AACD,SAFI,MAGA,IAAI,IAAI,KAAK,yBAAT,IAAsC,KAA1C,EAAiD;AACpD,UAAA,OAAO,CAAC,uBAAR,CAAgC,KAAK,CAAC,MAAtC;AACD,SAFI,MAGA;AACH,UAAA,OAAO,CAAC,YAAR,CAAqB,IAArB,EAA2B,KAA3B;AACD;AACF,OArBD;AAuBA,MAAA,QAAQ,CACL,MADH,CACU,UAAA,CAAA,EAAC;AAAI,eAAA,CAAA;AAAC,OADhB,EAEG,OAFH,CAEW,UAAA,KAAA,EAAK;AACZ,YAAI,aAAA,CAAA,MAAA,CAAU,KAAV,CAAJ,EAAsB;AACpB,UAAA,OAAO,CAAC,WAAR,CAAoB,KAApB;AACD,SAFD,MAEO,IAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AAC/B,UAAA,KAAK,CAAC,OAAN,CAAc,UAAA,CAAA,EAAC;AACb,gBAAI,aAAA,CAAA,MAAA,CAAU,CAAV,CAAJ,EAAkB;AAChB,cAAA,OAAO,CAAC,WAAR,CAAoB,CAApB;AACD,aAFD,MAGK;AACH,cAAA,OAAO,CAAC,WAAR,CAAoB,IAAI,YAAJ,CAAiB,CAAjB,CAApB;AACD;AACF,WAPD;AAQD,SATM,MASA;AACL,UAAA,OAAO,CAAC,WAAR,CAAoB,IAAI,YAAJ,CAAiB,KAAjB,CAApB;AACD;AACF,OAjBH;AAkBD;;AAED,QAAI,cAAJ,EAAoB;AAClB,MAAA,cAAc,CAAC;AAAE,QAAA,WAAW,EAAE;AAAf,OAAD,CAAd;AACD;;AACD,WAAO,OAAP;AACD,GAvED;;AAwEA,SAAO,aAAP;AACD;;AA7ED,OAAA,CAAA,mBAAA,GAAA,mBAAA;AA+Ea,OAAA,CAAA,gBAAA,GAAkC,IAAlC;AAQb,IAAM,mBAAmB,GAAG,KAA5B;;AAEA,SAAgB,KAAhB,CAAsB,GAAtB,EAAiC;AAC/B,MAAI,mBAAJ,EAAyB;AACvB,UAAM,GAAN;AACD,GAFD,MAEO;AACL,IAAA,OAAO,CAAC,KAAR,CAAc,GAAd;AACD;AACF;;AAND,OAAA,CAAA,KAAA,GAAA,KAAA;;;;;;;AC7FA,IAAA,EAAA,GAAA,OAAA,CAAA,GAAA,CAAA;;AAQa,OAAA,CAAA,QAAA,GAAW,UAAC,KAAD,EAA8B;AAAG,SAAA,EAAA,CAAA,gBAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAO,KAAK,CAAC,QAAb,CAAA;AAA6B,CAAzE;;AAEb,SAAgB,EAAhB,CAAmB,KAAnB,EAA8D;AAC5D,MAAM,CAAC,GAAG,KAAK,CAAC,QAAN,EAAV;AACA,EAAA,OAAO,CAAC,GAAR,CAAY,CAAZ;AACA,SAAO,CAAC,GAAG,EAAA,CAAA,gBAAA,CAAA,aAAA,CAAC,OAAA,CAAA,QAAD,EAAS,IAAT,EAAW,CAAX,CAAH,GAA8B,IAAtC;AACD;;AAJD,OAAA,CAAA,EAAA,GAAA,EAAA;;AAsDA,SAAgB,EAAhB,CACE,KADF,EAC6E;AAE7E,MAAM,CAAC,GAAG,KAAK,CAAC,OAAN,CAAc,KAAK,CAAC,QAApB,IAAgC,KAAK,CAAC,QAAN,CAAe,CAAf,CAAhC,GAAoD,KAAK,CAAC,QAApE;AACU,MAAA,CAAA,GAAA,KAAA,CAAA,CAAA;AAAA,MAAG,CAAA,GAAA,KAAA,CAAA,CAAH;AACR,MAAI,UAAU,CAAC,CAAD,CAAd,EACE,OAAO,CAAC,CAAC,KAAF,CAAQ,IAAR,EAAkB,CAAC,CAAC,GAAG,CAAC,CAAD,CAAH,GAAS,EAAX,EAAc,MAAd,CAAc,CAAE,CAAF,CAAd,CAAlB,CAAP,CADF,KAEK;AACH,WAAO,IAAP;AACD;AACF;;AAVD,OAAA,CAAA,EAAA,GAAA,EAAA;;AAaA,SAAS,UAAT,CAAuB,CAAvB,EAA2B;AAAsB,SAAO,CAAC,CAAC,CAAT;AAAY;;AAE7D,SAAgB,SAAhB,GAAyB;AACvB,SAAQ,OAAO,MAAP,KAAgB,WAAhB,IAA+B,OAAO,QAAP,KAAkB,WAAlD,GAAiE,MAAjE,GAA0E,MAAjF;AACD;;AAFD,OAAA,CAAA,SAAA,GAAA,SAAA;;AAGA,SAAgB,uBAAhB,CAAwC,CAAxC,EAA0D;AACxD,EAAA,SAAS,GAAG,UAAH,CAAT,GAAwB,CAAxB;AACD;;AAFD,OAAA,CAAA,uBAAA,GAAA,uBAAA;;;;;;AEnFA,IAAA,EAAA,GAAA,OAAA,CAAA,GAAA,CAAA;;AAyBa,OAAA,CAAA,KAAA,GAAQ,UAAC,KAAD,EAAkB;AACrC,WAAS,MAAT,CAAgB,CAAhB,EAAyB;AACvB,WAAO,KAAK,CAAC,YAAN,IAAsB,KAAK,CAAC,YAAN,CAAmB,MAAzC,GAAkD,EAAA,CAAA,MAAA,CAAW,CAAX,CAAlD,GAAkE,EAAzE;AACD;;AACD,WAAS,WAAT,CAAqB,CAArB,EAA6B;AAC3B,QAAI,CAAJ;;AACA,WAAO,CAAC,GAAI,UAAU,IAAV,CAAe,CAAf,CAAZ,EAA+B;AAC3B,MAAA,CAAC,GAAE,CAAC,CAAC,SAAF,CAAY,CAAZ,EAAe,CAAC,CAAC,KAAjB,IAAwB,GAAxB,GAA4B,CAAC,CAAC,CAAD,CAAD,CAAK,WAAL,EAA5B,GAA+C,CAAC,CAAC,SAAF,CAAY,CAAC,CAAC,KAAF,GAAQ,CAApB,EAAuB,CAAC,CAAC,MAAzB,CAAlD;AACH;;AACD,WAAO,CAAP;AACD;;AAGD,SAAO,QAAA,CAAA,aAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,OAAlB,EAA2B,GAA3B,CAA+B,UAAA,CAAA,EAAC;AAC7C,WAAG,MAAM,CAAC,CAAD,CAAN,GAAS,GAAT,GAAa,CAAb,IAAkB,KAAK,CAAC,OAAN,CAAc,CAAd,KAAoB,KAAK,CAAC,OAAN,CAAc,CAAd,EAAiB,eAArC,GAAuD,KAAK,CAAC,OAAN,CAAc,CAAd,EAAiB,eAAxE,GAA0F,EAA5G,IAA+G,IAA/G,GAAoH,MAAM,CAAC,IAAP,CAAY,KAAK,CAAC,OAAN,CAAc,CAAd,CAAZ,EAA8B,MAA9B,CAAqC,UAAA,CAAA,EAAC;AAAE,aAAA,CAAC,KAAG,iBAAJ;AAAqB,KAA7D,EAA+D,GAA/D,CAAmE,UAAA,CAAA,EAAC;AAAG,aAAA,OAChM,MAAM,CAAC,CAAD,CAD0L,GACpL,WAAW,CAAC,CAAD,CADyK,GACtK,IADsK,GACjK,KAAK,CAAC,OAAN,CAAc,CAAd,EAAiB,CAAjB,CADiK,GACvI,GADuI;AACpI,KAD6D,EAEzH,IAFyH,CAEpH,EAFoH,CAApH,GAEG,KAFN;AAGF,GAJe,EAIb,IAJa,CAIR,IAJQ,CAAR,CAAP;AAMD,CAnBY;;AAuBb,SAAgB,MAAhB,CAA6D,MAA7D,EAAsE;AACpE,MAAM,OAAO,GAAQ,EAArB;AACA,EAAA,MAAM,CAAC,IAAP,CAAY,MAAZ,EAAoB,OAApB,CAA4B,UAAA,CAAA,EAAC;AAC3B,IAAA,OAAO,CAAC,CAAD,CAAP,GAAa,CAAb;AACD,GAFD;AAGA,SAAO;AACL,IAAA,MAAM,EAAA,MADD;AACG,IAAA,OAAO,EAAA;AADV,GAAP;AAGD;;AARD,OAAA,CAAA,MAAA,GAAA,MAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA,IAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AAEA,IAAA,eAAA,GAAA,OAAA,CAAA,iBAAA,CAAA;;AACA,IAAA,cAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AAgBA,IAAA,uBAAA,GAAA,UAAA,MAAA,EAAA;AAA6C,EAAA,SAAA,CAAA,uBAAA,EAAA,MAAA,CAAA;;AAA7C,WAAA,uBAAA,GAAA;;AAcC;;AAZC,EAAA,uBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAwC;AAAjC,QAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,MAAA,GAAA,EAAA;AAAiC;;AACtC,WAAO;AACL,MAAA,GAAG,EAAE,KAAK,GADL;AAEL,MAAA,SAAS,EAAE,KAAK,SAFX;AAGL,MAAA,KAAK,EAAE,KAAK,KAHP;AAIL,MAAA,QAAQ,EAAE,KAAK,QAAL,CAAc,GAAd,CAAkB,UAAA,CAAA,EAAC;AAAE,eAAA,QAAA,CAAA,EAAA,EAAK,CAAL,EAAM;AAAG,UAAA,aAAa,EAAE;AAAlB,SAAN,CAAA;AAAmC,OAAxD;AAJL,KAAP;AAMD,GAPD;;AASA,EAAA,uBAAA,CAAA,SAAA,CAAA,uBAAA,GAAA,UAAwB,CAAxB,EAAiC;AAC/B,SAAK,SAAL,GAAiB,CAAjB;AACD,GAFD;;AAGF,SAAA,uBAAA;AAdA,CAAA,CAA6C,EAAA,CAAA,mBAA7C,CAAA;;AAAa,OAAA,CAAA,uBAAA,GAAA,uBAAA;;AAgBb,IAAA,wBAAA,GAAA,UAAA,MAAA,EAAA;AAA8C,EAAA,SAAA,CAAA,wBAAA,EAAA,MAAA,CAAA;;AAA9C,WAAA,wBAAA,GAAA;;AAIC;;AAHC,EAAA,wBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAoC;AAClC,WAAO;AAAC,MAAA,OAAO,EAAE,KAAK;AAAf,KAAP;AACD,GAFD;;AAGF,SAAA,wBAAA;AAJA,CAAA,CAA8C,EAAA,CAAA,oBAA9C,CAAA;;AAAa,OAAA,CAAA,wBAAA,GAAA,wBAAA;;AAMb,IAAA,oBAAA,GAAA,UAAA,MAAA,EAAA;AAA2D,EAAA,SAAA,CAAA,oBAAA,EAAA,MAAA,CAAA;;AAA3D,WAAA,oBAAA,GAAA;;AAAuF;;AAAD,SAAA,oBAAA;AAAtF,CAAA,CAA2D,cAAA,CAAA,oBAA3D,CAAA;;AAAsB,OAAA,CAAA,oBAAA,GAAA,oBAAA;AAET,OAAA,CAAA,gBAAA,GAA8E;AAEzF,EAAA,aAAa,EAAE,eAAA,CAAA,mBAAA,CAA6D;AAAC,IAAA,IAAI,EAAE,uBAAP;AAAgC,IAAA,YAAY,EAAE;AAA9C,GAA7D,CAF0E;AAIzF,EAAA,MAAM,EAAA,gBAAC,EAAD,EAAK,MAAL,EAAgB;AAAX,QAAA,MAAA,KAAA,KAAA,CAAA,EAAA;AAAA,MAAA,MAAA,GAAA,EAAA;AAAW;;AACpB,WAAQ,EAAqC,CAAC,MAAtC,CAA6C,MAA7C,CAAR;AACD;AANwF,CAA9E;;;;;;;;;;;;AC1Cb,QAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AAIA,QAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,CAAA;;AAEA,IAAA,aAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAAQ,OAAA,CAAA,oBAAA,GAAA,aAAA,CAAA,oBAAA;AAAsB,OAAA,CAAA,mBAAA,GAAA,aAAA,CAAA,mBAAA;;AAC9B,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,SAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;;;ACbA,iDAAwC;AAGxC,SAAgB,WAAW,CAAC,CAAc,EAAE,KAAgB;IAAhB,sBAAA,EAAA,gBAAgB;IAC1D,IAAI,GAAG,GAAG,CAAC,CAAC,YAAY,CAAC,UAAQ,KAAO,CAAC,CAAC;IAC1C,IAAI,CAAC,GAAG,EAAE;QACR,GAAG,GAAG,uBAAM,CAAC,KAAK,CAAC,CAAC;QACpB,CAAC,CAAC,YAAY,CAAC,UAAQ,KAAO,EAAE,GAAG,CAAC,CAAC;KACtC;IACD,OAAO,GAAG,CAAC;AACb,CAAC;AAPD,kCAOC;AACD,SAAgB,cAAc,CAAC,CAAc,EAAE,KAAgB;IAAhB,sBAAA,EAAA,gBAAgB;IAC7D,OAAO,CAAC,CAAC,YAAY,CAAC,UAAQ,KAAO,CAAC,CAAC;AACzC,CAAC;AAFD,wCAEC;AACD,SAAgB,eAAe,CAAC,CAAc,EAAE,KAAgB;IAAhB,sBAAA,EAAA,gBAAgB;IAC9D,OAAO,CAAC,CAAC,cAAc,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;AACpC,CAAC;AAFD,0CAEC;AACD,SAAgB,gBAAgB,CAA8B,GAAW,EAAE,MAAiB,EAAE,KAAgB;IAAnC,uBAAA,EAAA,iBAAiB;IAAE,sBAAA,EAAA,gBAAgB;IAC5G,OAAO,MAAM,CAAC,aAAa,CAAI,gBAAgB,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC;AAC/D,CAAC;AAFD,4CAEC;AACD,SAAgB,gBAAgB,CAAC,KAAa,EAAE,GAAY;IAC1D,OAAO,GAAG,CAAC,CAAC,CAAC,WAAS,KAAK,WAAK,GAAG,QAAI,CAAC,CAAC,CAAC,WAAS,KAAK,MAAG,CAAC;AAC9D,CAAC;AAFD,4CAEC;;;;ACnBD,+BAAuD;AAEvD;IAAA;QACE,aAAQ,GAAsB,IAAI,CAAA;IAIpC,CAAC;IAHC,sBAAW,kCAAO;aAAlB;YACE,OAAO,OAAO,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC,uBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAA;QAC5F,CAAC;;;OAAA;IACH,oBAAC;AAAD,CALA,AAKC,IAAA;AALY,sCAAa;AAQ1B,SAAgB,MAAM,CAAmC,EAAkG;QAAhG,UAAE,EAAE,gBAAK,EAAE,4BAAW;IAE7E,KAAK,CAAC,QAAQ,GAAG,WAAW,CAAC,qBAAqB,IAAI,kBAAW,CAAC,EAAE,CAAQ,CAAA;AAC9E,CAAC;AAHH,wBAGG;;;;;;;;;;;;;;;;;;;;;;;;;;;;AThBH,iDAAqJ;AACrJ,+BAA+C;AAI/C;IAA0E,mCAAiC;IAA3G;;IA6DA,CAAC;IAxDC,0CAAgB,GAAhB,UAAiB,MAAoD;QACnE,OAAO,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC;YACrC,CAAC,CAAC,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,IAAI,CAAC,GAAG,CAAC;YAClE,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAQ,CAAA;IAC7C,CAAC;IAED,gCAAM,GAAN,UAAO,MACwD;QAD/D,iBA4CC;QAzCC,IAAM,EAAE,GAAG,MAAM,CAAC,eAAe,IAAE,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAA;QAEhE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAA,SAAS;YACvC,IAAM,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAA;YACnC,IAAI,SAAS,KAAK,WAAW,EAAE;gBAC7B,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,KAAK,CAAC,CAAA;aAChC;iBACI,IAAI,SAAS,KAAK,OAAO,EAAE;gBAC9B,EAAE,CAAC,YAAY,CAAC,OAAO,EAAE,wCAAuB,CAAC,KAAK,CAAC,CAAC,CAAA;aACzD;iBACI,IAAI,OAAO,KAAK,KAAK,UAAU,EAAE;gBACpC,MAAM,CAAC,YAAY,CAAC,gBAAgB,CAAC,EAAE,EAAE,SAAS,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,WAAW,EAAE,EAAE,KAAK,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAA;aAEvG;iBACI;gBACH,EAAE,CAAC,YAAY,CAAC,SAAS,EAAE,KAAK,CAAC,CAAA;aAClC;QACH,CAAC,CAAC,CAAA;QACF,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAA;SAC/B;aACI;YACH,IAAM,QAAM,GAAS,MAAM,CAAC,gCAAgC,CAAC,CAAC,CAAC,QAAQ,CAAC,sBAAsB,EAAE,CAAC,CAAC,CAAC,EAAE,CAAA;YACrG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,UAAA,CAAC;gBACrB,CAAC,CAAC,MAAM,cAAM,MAAM,IAAE,MAAM,UAAA,EAAE,eAAe,EAAE,SAAS,IAAG,CAAA;YAC7D,CAAC,CAAC,CAAA;YACF,IAAI,EAAE,KAAK,QAAM,EAAE;gBACjB,EAAE,CAAC,WAAW,CAAC,QAAM,CAAC,CAAA;aACvB;SACF;QACD,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;SAC9B;QACD,IAAM,yBAAyB,GAAG,IAAI,CAAC,qBAAqB,IAAI,MAAM,CAAC,eAAe,CAAC,qBAAqB,CAAA;QAC5G,IAAI,IAAI,CAAC,GAAG,EAAE;YACZ,aAAM,CAAC,EAAE,WAAW,EAAE,IAAW,EAAE,EAAE,IAAA,EAAE,KAAK,EAAE,IAAI,CAAC,GAAyB,EAAE,CAAC,CAAA;SAChF;QACD,IAAI,yBAAyB,IAAI,yBAAyB,CAAC,cAAc,EAAE;YACzE,yBAAyB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAA;SAC7C;QACD,OAAO,EAAE,CAAA;IACX,CAAC;IAED,iDAAuB,GAAvB,UAAwB,CAAS;QAC/B,IAAI,CAAC,UAAU,GAAG,CAAC,CAAA;IACrB,CAAC;IAEH,sBAAC;AAAD,CA7DA,AA6DC,CA7DyE,oCAAmB,GA6D5F;AA7DY,0CAAe;AA+D5B;IAAsC,oCAAkC;IAAxE;;IAQA,CAAC;IAPC,iCAAM,GAAN,UAAO,MAAmC;QACxC,IAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;QAClD,IAAI,MAAM,CAAC,MAAM,EAAE;YACjB,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAA;SAChC;QACD,OAAO,IAAI,CAAA;IACb,CAAC;IACH,uBAAC;AAAD,CARA,AAQC,CARqC,qCAAoB,GAQzD;AARY,4CAAgB;AAU7B;IAAmD,gCAAuB;IAA1E;;IAKA,CAAC;IAHC,qCAAc,GAAd,UAAe,EAAe;QAC5B,IAAI,CAAC,WAAW,GAAG,EAAE,CAAA;IACvB,CAAC;IACH,mBAAC;AAAD,CALA,AAKC,CALkD,6BAAoB,GAKtE;AALqB,oCAAY;AAOlC,SAAS,QAAQ,CAAC,CAAS;IACzB,IAAM,CAAC,GAAG,IAAI,MAAM,CAAC,MAAI,CAAC,MAAG,EAAE,GAAG,CAAC,CAAA;IACnC,OAAO,OAAO,CAAC,IAAI,CAAC,UAAA,IAAI,IAAI,OAAA,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAZ,CAAY,CAAC,CAAA;AAC3C,CAAC;AACD,IAAM,OAAO,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,CAAC,CAAA;;;;AUzF3C,+BAAqD;AACrD,iDAAwC;AAwBxC;IAEE,0BAAoB,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;QAI7B,qBAAgB,GAAgC,EAAE,CAAA;QAElD,SAAI,GAAG,SAAS,GAAC,uBAAM,CAAC,GAAG,CAAC,CAAA;QALlC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;IAClD,CAAC;IAKO,sCAAW,GAAnB,UAAoB,EAAe;QACjC,OAAO,kBAAW,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;IACnC,CAAC;IACO,yCAAc,GAAtB,UAAuB,CAAc;QACnC,OAAO,qBAAc,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;IACrC,CAAC;IAGO,uCAAY,GAApB,UAAqB,CAAS;QAC5B,IAAI,CAAC,CAAC,MAAM,EAAE;YACZ,IAAM,MAAI,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,CAAA;YAC1C,IAAM,KAAK,GAAG,MAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,KAAK,MAAI,EAAf,CAAe,CAAC,CAAA;YACpG,IAAI,KAAK,EAAE;gBACT,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAA;aACZ;SACF;IACH,CAAC;IAED,2CAAgB,GAAhB,UAAiB,EAAe,EAAE,IAAY,EAAE,EAAiB;QAC/D,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAA;QACzB,IAAI,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAA;QACpC,IAAI,CAAC,EAAE,EAAE;YACP,EAAE,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,EAAE,CAAA;YACrC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,CAAA;SACpD;QACD,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAA;QACjC,IAAI,KAAK,GAAsB,EAAE,CAAC,IAAI,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,KAAK,IAAI,EAAf,CAAe,CAAC,CAAA;QAC5D,IAAI,CAAC,KAAK,EAAE;YACV,KAAK,GAAG,EAAE,IAAI,MAAA,EAAE,EAAE,IAAA,EAAE,IAAI,MAAA,EAAE,CAAA;YAC1B,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;SACf;IACH,CAAC;IAGD,0CAAe,GAAf,UAAgB,EAAe,EAAE,KAAU;QAA3C,iBAOC;QANC,IAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QACrC,IAAI,IAAI,EAAE;YACR,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,WAAW,EAAE,EAAf,CAAe,CAAC,CAAC,CAAC,OAAO,CAAC,UAAA,CAAC;gBAC/E,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,GAAG,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,IAAI,KAAK,IAAI,EAAf,CAAe,CAAC,CAAA;YAC1F,CAAC,CAAC,CAAA;SACH;IACH,CAAC;IAED,oCAAS,GAAT,UAAU,KAAU;QAApB,iBAMC;QALC,CAAC,KAAK,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,WAAW,EAAE,EAAf,CAAe,CAAC,CAAC,CAAC,OAAO,CAAC,UAAA,CAAC;YAC/E,CAAC,KAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,EAAE,EAAJ,CAAI,CAAC,CAAC,OAAO,CAAC,UAAA,QAAQ;gBAC9D,KAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAA;YAC5C,CAAC,CAAC,CAAA;QACJ,CAAC,CAAC,CAAA;IACJ,CAAC;IAEH,uBAAC;AAAD,CA5DA,AA4DC,IAAA;AA5DY,4CAAgB;;;;;;;;;;;;;;;ARzB7B,iDAAiH;AACjH,sBAAkE;AAElE,+BAA+C;AAC/C,iCAA2C;AAE3C,SAAS,aAAa;IAEpB,IAAM,MAAM,GAA4C;QAEtD,aAAa,EAAE,oCAAmB,CAA4B,4BAA4B,EAAE,CAAC;QAE7F,MAAM,YAAC,WAAW,EAAE,MAAM;YACxB,IAAM,EAAE,GAAG,WAAiC,CAAA;YAC5C,IAAM,oBAAoB,gBAAQ,MAAM,IAAE,eAAe,EAAE,EAAE,GAC5D,CAAA;YACD,IAAM,eAAe,GAAG,EAAE,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,CAAA;YACjE,IAAM,YAAY,GAAG,IAAI,wBAAgB,CAAC,eAAe,CAAC,CAAA;YAC1D,IAAM,cAAc,gBAAO,oBAAoB,IAAE,YAAY,cAAA,EAAE,eAAe,iBAAA,GAAC,CAAA;YAC/E,OAAO,EAAE,CAAC,MAAM,CAAC,cAAc,CAAC,CAAA;QAClC,CAAC;QAED,SAAS,EAAT;YACE,OAAO,IAAI,oBAAa,EAAK,CAAA;QAC/B,CAAC;KAEF,CAAA;IACD,OAAO,MAAM,CAAA;AACf,CAAC;AAUD,IAAI,yBAA8F,CAAA;AAClG,SAAgB,4BAA4B;IAC1C,IAAI,CAAC,yBAAyB,EAAE;QAC9B,yBAAyB,GAAG;YAC1B,IAAI,EAAE,kBAAe;YACrB,YAAY,EAAE,mBAAgB;YAC9B,gBAAgB,YAAC,EAA4C;oBAA1C,4BAAW,EAAE,8CAAoB,EAAE,gBAAK;gBACzD,IAAI,oBAAoB,EAAE;oBACxB,WAAW,CAAC,qBAAqB,GAAG,oBAAoB,CAAA;iBACzD;gBACD,WAAW,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAA;YAC7B,CAAC;SACF,CAAA;KACF;IACD,OAAO,yBAAyB,CAAA;AAClC,CAAC;AAdD,oEAcC;AAEY,QAAA,QAAQ,GAA4C,aAAa,EAAE,CAAA;;;;;;;AKtDhF,mCAA6B;AAC7B,qCAA+B;;;;;;;;;;;;;;;;;;;;;;;AIF/B,IAAA,gBAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,IAAA,eAAA,GAAA,OAAA,CAAA,eAAA,CAAA;;AAoBS,OAAA,CAAA,YAAA,GApBC,eAAA,CAAA,YAoBD;AAlBI,OAAA,CAAA,kBAAA,GAAkB,QAAA,CAAA,EAAA,EAC1B,eAAA,CAAA,4BAAA,EAD0B,EACI;AAEjC,EAAA,IAAI,EAAE,eAAA,CAAA,eAF2B;AAIjC,EAAA,YAAY,EAAE,eAAA,CAAA;AAJmB,CADJ,CAAlB;AAQA,OAAA,CAAA,QAAA,GAAoC;AAE/C,EAAA,aAAa,EAAE,gBAAA,CAAA,mBAAA,CAA+C,OAAA,CAAA,kBAA/C,CAFgC;AAI/C,EAAA,MAAM,EAAG,eAAA,CAAA,QAAA,CAAa,MAJyB;AAK/C,EAAA,SAAS,EAAE,eAAA,CAAA,QAAA,CAAa;AALuB,CAApC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXb,IAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AAEA,IAAA,iBAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA8D,EAAA,SAAA,CAAA,iBAAA,EAAA,MAAA,CAAA;;AAG5D,WAAA,iBAAA,CAAY,CAAZ,EAAgB;AAAhB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,CAAN,KAAQ,IADV;;AAFA,IAAA,KAAA,CAAA,KAAA,GAAU,EAAV;AAIE,IAAA,KAAI,CAAC,KAAL,GAAU,QAAA,CAAA,EAAA,EAAO,CAAP,CAAV;;AACD;AAED;;;;AAEA,EAAA,iBAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UAAW,CAAX,EAAwB;AACtB;AACA,SAAK,KAAL,GAAU,QAAA,CAAA,EAAA,EAAQ,KAAK,KAAb,EAAuB,CAAvB,CAAV;AACD,GAHD;;AAKF,SAAA,iBAAA;AAfA,CAAA,CAA8D,EAAA,CAAA,YAA9D,CAAA;;AAAsB,OAAA,CAAA,iBAAA,GAAA,iBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFtB,IAAA,EAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AACA,IAAA,mBAAA,GAAA,OAAA,CAAA,qBAAA,CAAA;AAEA;;;;;;;;;;;;;AAWA,IAAA,6BAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAA2E,EAAA,SAAA,CAAA,6BAAA,EAAA,MAAA,CAAA;;AAA3E,WAAA,6BAAA,GAAA;;AAoCC;AAnCC;;;;AAEA,EAAA,6BAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UAAS,CAAT,EAAsB;AACpB,IAAA,MAAA,CAAA,SAAA,CAAM,QAAN,CAAc,IAAd,CAAc,IAAd,EAAe,CAAf;;AACA,QAAG,CAAC,KAAK,WAAT,EAAqB;AACnB,YAAM,IAAI,KAAJ,CAAU,6DAAV,CAAN;AACD;;AACD,QAAI,UAAJ;AACA,QAAI,SAAS,GAIT;AAAE,MAAA,KAAK,EAAE,CAAT;AAAY,MAAA,GAAG,EAAE;AAAjB,KAJJ;;AAKA,QAAI,QAAQ,CAAC,aAAb,EAA4B;AAC1B,MAAA,UAAU,GAAG,iBAAiB,CAAC,QAAQ,CAAC,aAAV,CAA9B;AACA,MAAA,SAAS,GAAG;AACV,QAAA,KAAK,EAAG,QAAQ,CAAC,aAAT,CAA4C,cAA5C,IAA8D,CAD5D;AAEV,QAAA,GAAG,EAAG,QAAQ,CAAC,aAAT,CAA4C,YAA5C,IAA4D,CAFxD;AAGV,QAAA,SAAS,EAAG,QAAQ,CAAC,aAAT,CAA4C,kBAA5C,IAAkE;AAHpE,OAAZ;AAKD;;AACD,QAAM,GAAG,GAAG,KAAK,MAAL,EAAZ;;AACA,QAAM,EAAE,GAAG,EAAA,CAAA,QAAA,CAAS,MAAT,CAAgB,GAAhB,CAAX;;AACA,SAAK,WAAL,CAAiB,aAAjB,CAAgC,YAAhC,CAA6C,EAA7C,EAAiD,KAAK,WAAtD;AACA,SAAK,WAAL,GAAmB,EAAnB;;AACA,QAAI,UAAJ,EAAgB;AACd,UAAM,QAAQ,GAAG,iBAAiB,CAAC,UAAU,GAAG,EAAd,CAAlC;;AACA,UAAI,QAAQ,IAAI,SAAhB,EAA2B;AACzB,QAAA,QAAQ,CAAC,KAAT;;AACA,YAAI,QAAQ,CAAC,iBAAb,EAAgC;AAC9B,UAAA,QAAQ,CAAC,iBAAT,CAA2B,SAAS,CAAC,KAArC,EAA4C,SAAS,CAAC,GAAtD,EAA2D,SAAS,CAAC,SAArE;AACD;AACF;AACF;AACF,GAhCD;;AAiCF,SAAA,6BAAA;AApCA,CAAA,CAA2E,mBAAA,CAAA,iBAA3E,CAAA;;AAAsB,OAAA,CAAA,6BAAA,GAAA,6BAAA,EAqCtB;;AACA,SAAS,iBAAT,CAA2B,EAA3B,EAA+C;AAC7C,MAAI,OAAO,EAAP,IAAa,QAAjB,EAA2B;AACzB,WAAO,QAAQ,CAAC,QAAT,CAAkB,EAAlB,EAAsB,QAAtB,EAAgC,IAAhC,EAAsC,CAAtC,EAAyC,IAAzC,IAAiD,EAAxD;AACD;;AACD,MAAI,CAAC,EAAD,IAAO,EAAE,CAAC,QAAH,IAAe,CAA1B,EAA6B;AAC3B,WAAO,EAAP;AACD;;AACD,MAAI,EAAE,CAAC,EAAP,EACE,OAAO,cAAc,EAAE,CAAC,EAAjB,GAAsB,IAA7B;;AACF,MAAI,EAAE,CAAC,UAAP,EAAmB;AACjB,QAAM,KAAK,GAAG,KAAK,CAAC,IAAN,CAAW,EAAE,CAAC,UAAH,CAAc,QAAzB,EAAmC,MAAnC,CAA0C,UAAA,CAAA,EAAC;AAAI,aAAA,CAAC,CAAC,OAAF,IAAa,EAAE,CAAC,OAAhB;AAAuB,KAAtE,CAAd;AACA,WAAQ,iBAAiB,CAAC,EAAE,CAAC,UAAJ,CAAjB,GACN,GADM,GAEN,CAAC,EAAE,CAAC,OAAH,IAAc,EAAf,EAAmB,WAAnB,EAFM,IAGL,KAAK,CAAC,MAAN,GAAe,CAAf,GAAmB,OAAO,KAAK,CAAC,OAAN,CAAc,EAAd,IAAoB,CAA3B,IAAgC,GAAnD,GAAyD,EAHpD,CAAR;AAID,GAND,MAOK;AACH,WAAO,SAAP;AACD;AACF,EACD;;;AACA,SAAS,iBAAT,CAA2B,IAA3B,EAAyC,SAAzC,EAAyE;AACvE,MAAM,CAAC,GAAG,QAAQ,CAAC,QAAT,CAAkB,IAAlB,EAAwB,QAAxB,EAAkC,IAAlC,EAAwC,CAAxC,EAA2C,IAA3C,CAAV;;AACA,MAAI,CAAC,SAAL,EAAgB;AACd,WAAO,CAAC,CAAC,WAAF,EAAP;AACD;;AACD,MAAI;AACF,QAAI,CAAC,GAAA,KAAA,CAAL;AACA,QAAI,EAAE,GAAA,KAAA,CAAN;;AACA,WAAO,CAAC,CAAC,GAAG,CAAC,CAAC,WAAF,EAAL,KAAyB,CAAC,SAAS,CAAC,CAAD,CAA1C,EAA+C;AAC7C,MAAA,EAAE,GAAG,CAAL;AACD;;AACD,WAAO,EAAP;AACD,GAPD,CAQA,OAAO,CAAP,EAAU;AACR,IAAA,KAAK,CAAC,oDAAoD,CAArD,CAAL;AACD;AACF;;;;;;;;;;;;ACzFD,QAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;;AACA,QAAA,CAAA,OAAA,CAAA,iCAAA,CAAA,CAAA,EACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA,IAAA,GAAA,GAAA,OAAA,CAAA,IAAA,CAAA;;AACA,IAAA,+BAAA,GAAA,OAAA,CAAA,kCAAA,CAAA;;AAEA,SAAgB,iCAAhB,GAAiD;AAC/C,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAf;AACA,EAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,MAA1B;;AACA,MAAM,EAAE,GAAG,GAAA,CAAA,QAAA,CAAS,MAAT,CAAgB,GAAA,CAAA,QAAA,CAAA,aAAA,CAAC,GAAD,EAAI;AAAC,IAAA,MAAM,EAAE,CAAC;AAAE,MAAA,IAAI,EAAE;AAAR,KAAD,EAAmB;AAAE,MAAA,IAAI,EAAE;AAAR,KAAnB;AAAT,GAAJ,CAAhB,EAAsE;AAAE,IAAA,MAAM,EAAA;AAAR,GAAtE,CAAX;;AACA,EAAA,MAAM,CAAC,WAAP,CAAmB,EAAnB;AACA,SAAO,MAAP;AACD;;AAND,OAAA,CAAA,iCAAA,GAAA,iCAAA;;AAWA,IAAA,QAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAuB,EAAA,SAAA,CAAA,QAAA,EAAA,MAAA,CAAA;;AACrB,WAAA,QAAA,CAAY,CAAZ,EAAwB;AAAxB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,CAAN,KAAQ,IADV;;AAEE,IAAA,KAAI,CAAC,KAAL,GAAU,QAAA,CAAA,EAAA,EAAQ,CAAR,CAAV;;AACD;;AACD,EAAA,QAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,WACE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC;AAAf,KAAA,oBAAA,EAEE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,OAAA,EAAA;AACE,MAAA,KAAK,EAAE,KAAK,KAAL,CAAW,KADpB;AAEE,MAAA,OAAO,EAAE,iBAAA,CAAA,EAAC;AACR,QAAA,KAAI,CAAC,QAAL,CAAc;AAAE,UAAA,KAAK,EAAE,CAAC,CAAC,aAAF,CAAgB;AAAzB,SAAd;AACD;AAJH,KAAA,CAFF,EAQE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,IAAA,EAAA,IAAA,CARF,sBAAA,EASoB,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAO,KAAK,KAAL,CAAW,KAAlB,CATpB,EASoD,GATpD,CADF;AAaD,GAdD;;AAeF,SAAA,QAAA;AApBA,CAAA,CAAuB,+BAAA,CAAA,6BAAvB,CAAA;;AA4BA,IAAA,GAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAkB,EAAA,SAAA,CAAA,GAAA,EAAA,MAAA,CAAA;;AAChB,WAAA,GAAA,CAAY,CAAZ,EAAgB;AAAhB,QAAA,KAAA,GACE,MAAA,CAAA,IAAA,CAAA,IAAA,EAAM,CAAN,KAAQ,IADV;;AAEE,IAAA,KAAI,CAAC,KAAL,GAAU,QAAA,CAAA,EAAA,EAAQ,CAAR,CAAV;;AACD;;AACD,EAAA,GAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACE,WACE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAK,MAAA,SAAS,EAAC;AAAf,KAAA,EACE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AAAQ,MAAA,EAAE,EAAC,KAAX;AAAiB,MAAA,OAAO,EAAE,iBAAA,CAAA,EAAC;AAAI,eAAA,KAAI,CAAC,QAAL,CAAc;AAAE,UAAA,MAAM,EAAM,KAAI,CAAC,KAAL,CAAW,MAAX,CAAiB,MAAjB,CAAiB,CAAE;AAAE,YAAA,IAAI,EAAE,iBAAiB,IAAI,CAAC,MAAL;AAAzB,WAAF,CAAjB;AAAd,SAAd,CAAA;AAA2F;AAA1H,KAAA,EAA0H,KAA1H,CADF,EAIE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,IAAA,EAAA,IAAA,EACG,KAAK,KAAL,CAAW,MAAX,CAAkB,GAAlB,CAAsB,UAAA,CAAA,EAAC;AAAI,aAC1B,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AAAA,mBAAa,CAAC,CAAC;AAAf,OAAA,EACE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AAAC,QAAA,KAAK,EAAE,CAAC,CAAC;AAAV,OAAT,CADF,EAEE,GAAA,CAAA,QAAA,CAAA,aAAA,CAAA,QAAA,EAAA;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,OAAO,EAAE,iBAAA,CAAA,EAAC;AACR,UAAA,KAAI,CAAC,QAAL,CAAc;AAAE,YAAA,MAAM,EAAE,KAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,MAAlB,CAAyB,UAAA,EAAA,EAAE;AAAI,qBAAA,EAAE,CAAC,IAAH,KAAY,CAAC,CAAC,IAAd;AAAkB,aAAjD;AAAV,WAAd;AACD;AAJH,OAAA,EAIG,QAJH,CAFF,CAD0B;AAW3B,KAXA,CADH,CAJF,CADF;AAqBD,GAtBD;;AAuBA,EAAA,GAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UAAS,CAAT,EAAsB;AACpB,SAAK,KAAL,GAAU,QAAA,CAAA,EAAA,EAAQ,KAAK,KAAb,EAAuB,CAAvB,CAAV;AACA,SAAK,WAAL,CAAkB,SAAlB,GAA8B,EAA9B;AACA,SAAK,WAAL,CAAkB,WAAlB,CAA8B,GAAA,CAAA,QAAA,CAAS,MAAT,CAAgB,KAAK,MAAL,EAAhB,CAA9B;AACD,GAJD;;AAKF,SAAA,GAAA;AAjCA,CAAA,CAAkB,+BAAA,CAAA,6BAAlB,CAAA;;;;;;AC1CA,IAAA,mCAAA,GAAA,OAAA,CAAA,qCAAA,CAAA;;AACA,mCAAA,CAAA,iCAAA","file":"statefulElementClassTestMain.7e0bb39d.map","sourceRoot":"../../../jsx-alone-dom-extra/src/__tests__","sourcesContent":["import { JSXAloneComponent, NodeLike, ElementLike, TextNodeLike, RenderConfig } from '.'\r\nimport { ElementClassProps, ElementClass } from './elementClass';\r\nimport { ComponentClass, FunctionComponent } from './declarations/domElementDeclarations';\r\n\r\nexport function isElementClassConstructor(c: any): c is {new(props: ElementClassProps<any>): ElementClass} {\r\n  return c.prototype && c.prototype.render\r\n}\r\n\r\nexport function isNode<T>(n: any): n is NodeLike<T> {\r\n  return isTextNodeLike(n) || isElementLike(n)\r\n}\r\n\r\nexport function isElementLike<T>(n: any): n is ElementLike<T> {\r\n  return n && n.setAttribute\r\n}\r\n\r\nexport function isTextNodeLike<T>(n: any): n is TextNodeLike<T> {\r\n  return n && n.content && !isElementLike(n)\r\n}\r\n\r\nexport abstract class AbstractTextNodeLike<T> implements TextNodeLike<T> {\r\n  constructor(public content: string) {}\r\n  abstract render(config?: RenderConfig<T>): T\r\n}\r\n\r\nexport abstract class AbstractElementLike<T> implements ElementLike<T> {\r\n  // type: string | ComponentClass<P> | FunctionComponent<P>;\r\n  // props: P;\r\n  // key: Key | null;\r\n  attrs: {\r\n    [name: string]: any\r\n  }\r\n  children: NodeLike<T>[]\r\n  parentElement?: ElementLike<T>\r\n  \r\n  constructor(public tag: string) {\r\n    this.attrs = {}\r\n    this.children = []\r\n  }\r\n\r\n  abstract render(config?: RenderConfig<T>): T\r\n\r\n  setAttribute(name: string, value: string): void {\r\n    this.attrs[name] = value\r\n  }\r\n\r\n  appendChild(c: NodeLike<T>): void {\r\n    this.children.push(c)\r\n    if (isElementLike<T>(c)) {\r\n      c.parentElement = this\r\n    }\r\n  }\r\n  \r\n  abstract dangerouslySetInnerHTML(s: string): void\r\n  \r\n}\r\n","import { NodeLike, ElementLike } from './types';\r\nimport { isElementLike } from './elementImpl';\r\nimport { ReactNode } from './declarations/domElementDeclarations';\r\n\r\nexport type ElementClassProps<P> = ( Readonly<{ children?: ReactNode}>&Readonly<P> )\r\n\r\nexport interface IElementClass<P={}> {\r\n  props: ElementClassProps<P>\r\n  render(): JSX.Element\r\n}\r\n\r\n/**\r\n * A Class able to render() JSX. Similar to React.Component but only supporting properties, without state, context, ref, did/will methods, etc.\r\n */\r\nexport abstract class ElementClass<  P={}> implements IElementClass<P> {\r\n\r\n  constructor(public readonly props: ElementClassProps<P>) {\r\n  }\r\n\r\n  abstract render(): JSX.Element\r\n\r\n  // protected childrenAsArray(): NodeLike<P>[] {\r\n  //   return (Array.isArray(this.props.children) ? this.props.children : [this.props.children]) as NodeLike<P>[];\r\n  // }\r\n\r\n  // protected childrenElementsAsArray(): ElementLike<P>[] {\r\n  //   return this.childrenAsArray().filter(c => isElementLike<P>(c)) as ElementLike<P>[]\r\n  // }\r\n\r\n  // protected firstChildElement(): ElementLike<P> | undefined {\r\n  //   return this.childrenAsArray().find(e => true) as ElementLike<P> | undefined\r\n  // }\r\n}\r\nexport abstract class AbstractElementClass<P={}> extends ElementClass< P>{}\r\n","import { ElementClass } from './elementClass';\nimport { isElementClassConstructor, isNode } from './elementImpl';\nimport { CreateCreateElementConfig, ElementLike, JSXAlone, JSXAloneAttrs, JSXAloneTag } from './types';\n\n\nexport function createCreateElement<T, R extends ElementLike<T>=ElementLike<T>>(config: CreateCreateElementConfig<T, R>) {\n\n  const { impl, textNodeImpl, onElementReady, onElementCreated: onElementCreate } = config\n\n  const createElement: CreateElementFunction<T, R> = function (tag, attrs = {}, ...children: any[]) {\n    let element: R\n    let elementClassInstance: ElementClass | undefined\n    const tagIsString = typeof tag === 'string'\n\n    attrs = attrs || {}\n\n    if (tagIsString) {\n      element = new impl(tag as string)\n    }\n    else if (isElementClassConstructor(tag)) {\n      elementClassInstance = new tag({ ...attrs, children: children })\n      element = elementClassInstance.render() as any as R\n    }\n    else {\n      element = (tag as any)({ ...attrs, children })\n    }\n    if (onElementCreate) {\n      onElementCreate({ elementLike: element, elementClassInstance, attrs })\n    }\n\n    // HEADS UP non intrinsic els are responsible of rendering their own attributes and children\n    if (tagIsString) {\n\n      Object.keys(attrs).forEach(name => {\n        const value = attrs[name]\n        const type = typeof value\n        if (type === 'string' || type === 'number') {\n          element.setAttribute(name, value)\n        }\n        else if (type === 'function') {\n          element.setAttribute(name, value)\n        }\n        else if (value === false) {\n          // do nothing\n        }\n        else if (value === true) {\n          element.setAttribute(name, name)\n        }\n        else if (name === 'dangerouslySetInnerHTML' && value) {\n          element.dangerouslySetInnerHTML(value.__html)\n        }\n        else {\n          element.setAttribute(name, value)\n        }\n      })\n\n      children\n        .filter(c => c)\n        .forEach(child => {\n          if (isNode<T>(child)) {\n            element.appendChild(child)\n          } else if (Array.isArray(child)) {\n            child.forEach(c => {\n              if (isNode<T>(c)) {\n                element.appendChild(c)\n              }\n              else {\n                element.appendChild(new textNodeImpl(c))\n              }\n            })\n          } else {\n            element.appendChild(new textNodeImpl(child))\n          }\n        })\n    }\n\n    if (onElementReady) {\n      onElementReady({ elementLike: element })\n    }\n    return element\n  }\n  return createElement\n}\n\nexport const AbstractJSXAlone: JSXAlone<any> = null as any\n\nexport type CreateElementFunction<T, R=ElementLike<T>> = (\n  tag: JSXAloneTag,\n  attrs?: JSXAloneAttrs<string> | undefined,\n  ...children: any[]\n) => R\n\nconst throwOnUnrecognized = false\n\nexport function debug(err: string) {\n  if (throwOnUnrecognized) {\n    throw err\n  } else {\n    console.error(err)\n  }\n}","// import { AbstractJSXAlone as  } from './createElement';\nimport { ReactNode, AbstractJSXAlone as JSXAlone } from '.';\n\n\nexport type Children = ReactNode\n\n// export type Props = { children: Children }\n\n// TODO: like React.Fragment\nexport const Fragment = (props: { children: Children })=><span>{props.children}</span>\n\nexport function Js(props: {children: (...args: any[]) => any }) {\n  const r = props.children()\n  console.log(r);\n  return r ? <Fragment>{r}</Fragment> : null\n}\n\n\n/** if as statement. children need to be in a function and the function accepts a parameter which value is given condition `c` but casted to NotFalsy<C> so there's no need of type guards in the body. Example:\n```\n<If c={type}>{type =>\n  <select multiple={true}>{names[type].map(c =>\n      <option value={c.id}>{c.label}</option>)}\n  </select>\n</If>\n```\n\nNo error thrown on second line because parameter type is not falsy but keep the original type (excluding falsy values)\n\nOther example:\n\n```\nexport class ErrorComponent extends React.Component<ErrorOptions> {\n  public render() {\n    return <div>\n      <If c={this.props.error}>{error =>\n        <React.Fragment>\n          <h2>Error</h2>\n          <If c={typeof error === 'string'}>{e =>\n            <h3>{e}</h3>}\n          </If>\n          <If c={typeof error === 'object'}>{e =>\n            <React.Fragment>\n              <h5>{error!.name}</h5>\n              <p>{error!.message}</p>\n              <If c={error.stack}>{e =>\n                <ul>\n                  {e.split('\\n').map(e =>\n                    <li>{e}</li>)}\n                </ul>}\n              </If>\n            </React.Fragment>}\n          </If>\n          <If c={this.props.responseText}>{responseText =>\n            <iframe css={{ border: 0, width: '100%', height: '400px' }} srcDoc={responseText}>\n            </iframe>}\n          </If>\n        </React.Fragment>}\n      </If>\n    </div>\n  }\n}\n\n```\n*/\nexport function If<T extends any = any\n>(props: { c: any, p?: T, children: (...args: NotFalsy<T>[]) => JSX.Element }) {\n//TODO: issue in dom implementation, children is an array \nconst f = Array.isArray(props.children) ? props.children[0] : props.children\n  const { c, p } = props\n  if (isNotFalsy(c))\n    return f.apply(null, [...(p ? [p] : []), c ])\n  else {\n    return null\n  }\n}\ntype NotFalsy<C=any> = Exclude<C, Falsy>\ntype Falsy = null | '' | undefined | false\nfunction isNotFalsy<T>(a: T): a is NotFalsy<T> { return !!a }\n\nexport function getGlobal():any{\n  return (typeof window==='undefined' && typeof document==='undefined') ? global : window\n}\nexport function installJSXAloneAsGlobal(i: typeof JSXAlone){\n  getGlobal()['JSXAlone']=i\n}","\nexport function checkThrow<T>(r?: T, msg = 'Throwing on undefined value'): T {\n  if (!r) { throw new Error(msg) }\n  return r\n}\n// export function tryTo<F extends (...args: any[]) => any>(f: F): ReturnType<F> | undefined {\n//   try {\n//     return f()\n//   } catch (error) {\n//   }\n// }\nexport function array<T = number>(n: number, sample?: T): T[] {\n  const a: (T | number)[] = [];\n  for (let i = 0; i < n; i++) {\n    a.push(typeof sample === 'undefined' ? i : sample);\n  }\n  return a as T[];\n}\nexport function repeat(n: number, s: string): string {\n  return array(n, s).join('')\n}\nexport function indent(i: number = 1, tabSize = 2): string {\n  return repeat(i * tabSize, ' ')\n}\n\nexport function getPosition(string: string, subString: string, index: number) {\n  return string.split(subString, index).join(subString).length;\n}\n\nexport function removeWhites(s: string, replaceWith=' '){\n  return s.replace(/\\s+/gm, replaceWith).trim()\n}\nexport function randomIntBetween(a: number, b: number){\n  return Math.floor(Math.random() * b) + a\n}\n\nexport function randomItem<T>(array: T[]): T{\n  return array[randomIntBetween(0, array.length)]\n}\n\n\nexport function printMs(ms: number, config: {\n  minutes?: boolean;\n  seconds?: boolean;\n  ms?: boolean;\n} = { minutes: false, seconds: true, ms: true }) {\n  config = { ...{ minutes: false, seconds: true, ms: true }, ...config };\n  const seconds = config.seconds && Math.floor(ms / 1000);\n  const minutes = config.minutes && seconds && Math.floor(seconds / 60);\n  const milliseconds = config.ms && Math.floor(ms % 1000 || ms);\n  return `${minutes ? `${minutes} minutes ` : ''}${seconds ? `${seconds} seconds ` : ''}${milliseconds ? `${milliseconds} ms ` : ''}`;\n}\n\n\nexport function printStyleHtmlAttribute(value: any): any {\n  return `${Object.keys(value)\n    .map(p => `${p}: ${value[p]}`)\n    .join('; ')}`;\n}\n\n\nlet _unique: number = 0\nexport function unique(prefix: string='_'): string {\n  return prefix+_unique++\n}","import {  indent as indentImpl,  AbstractJSXAlone } from '.'\n\ndeclare const JSXAlone: typeof AbstractJSXAlone\n\n/** Render the <style> tag with all classes and styles inside. Usage example: \n```\nconst fieldTable: ClassRule = {\n  selectorPostfix: ' td',\n  border: '1px solid #aaaaaa',\n  padding: '2px'\n}\nconst sublistFieldTable: ClassRule = {\n  ...fieldTable,\n  fontSize: '0.95em',\n  border: '1px solid #ededed'\n}\nconst messageFromRedirect: ClassRule = {\n  border: '2px solid green'\n}\nconst { styles, classes } = Styles({ fieldTable, sublistFieldTable, messageFromRedirect})\nreturn <div>\n  <Style classes={styles}></Style>\n  <p className={classes.messageFromRedirect}>{props.msg}</p>\n    ```\n*/\nexport const Style = (props: StyleProps) => {\n  function indent(n: number): string {\n    return props.renderConfig && props.renderConfig.indent ? indentImpl(n) : ''\n  }\n  function fixProperty(s:string):string{\n    var t\n    while (t =  /([A-Z])/.exec(s)) {\n        s= s.substring(0, t.index)+'-'+t[1].toLowerCase()+s.substring(t.index+1, s.length)\n    }\n    return s;\n  }\n  // return new AbstractElementLike()\n\n  return <style>{Object.keys(props.classes).map(c =>\n    `${indent(1)}.${c}${(props.classes[c] && props.classes[c].selectorPostfix ? props.classes[c].selectorPostfix : '')} {${Object.keys(props.classes[c]).filter(p=>p!=='selectorPostfix').map(p =>`\n${indent(2)}${fixProperty(p)}: ${props.classes[c][p as any]};`\n).join(``)}\n}`).join('\\n')}\n  </style>\n}\n\n\n/** build a styles and classnames from a class styles mapped object so is easy to type-check classnames and use them . See `Style` for usage example */\nexport function Styles<T extends { [k: string]: ClassRule }>(styles: T): { styles: T, classes: { [k in keyof T]: k } } {\n  const classes: any = {}\n  Object.keys(styles).forEach(k => {\n    classes[k] = k\n  })\n  return {\n    styles, classes\n  }\n}\n\nexport type ClassRule = Partial<CSSStyleDeclaration> & { selectorPostfix?: string }\ninterface StyleProps {\n  classes: { [name: string]: ClassRule },\n  renderConfig?: {indent?: number}\n}","import { RenderConfig, ElementLike,  TextNodeLike } from './';\nimport { AbstractElementLike, AbstractTextNodeLike } from './';\nimport {  JSXAlone as JSXAloneType } from './';\nimport { createCreateElement } from './createElement';\nimport { AbstractElementClass } from './elementClass';\n\nexport interface JsonImplOutputEl {\n  tag: string\n  attrs: { [name: string]: any }\n  children: JsonImplOutput[]\n  innerHtml:string|undefined\n}\ninterface OutputText{\n  content?: string\n}\nexport type JsonImplOutput = JsonImplOutputEl|OutputText\n\nexport interface JsonImplRenderConfig extends RenderConfig<JsonImplOutput> {\n}\n\nexport class JsonImplElementLikeImpl extends AbstractElementLike<JsonImplOutput> implements ElementLike<JsonImplOutput> {\n  innerHtml:string|undefined\n  render(config: JsonImplRenderConfig = {}): JsonImplOutput {\n    return {\n      tag: this.tag,\n      innerHtml: this.innerHtml, \n      attrs: this.attrs,\n      children: this.children.map(c=>({...c,  parentElement: undefined})) as any\n    }\n  }\n\n  dangerouslySetInnerHTML(s: string): void {\n    this.innerHtml = s\n  }\n}\n\nexport class JsonImplTextNodeLikeImpl extends AbstractTextNodeLike<JsonImplOutput> implements TextNodeLike<JsonImplOutput> {\n  render(config?: JsonImplRenderConfig): JsonImplOutput {\n    return {content: this.content}\n  }\n}\n\nexport abstract class JsonImplElementClass<P = {}> extends AbstractElementClass< P> { }\n\nexport const JSXAloneJsonImpl:JSXAloneType<JsonImplOutput,  ElementLike<JsonImplOutput>> = {\n\n  createElement: createCreateElement<JsonImplOutput, JsonImplElementLikeImpl>({impl: JsonImplElementLikeImpl, textNodeImpl :JsonImplTextNodeLikeImpl}),\n\n  render(el, config = {}) {\n    return (el as any as JsonImplElementLikeImpl).render(config)\n  }\n\n}\n","export * from './types'\n\nexport * from './elementImpl'\n\nexport * from './declarations/domElementDeclarations'\nexport * from './declarations/cssDeclarations'\nexport * from './elementClass'\nexport * from './createElement'\n\nexport {AbstractTextNodeLike, AbstractElementLike} from './elementImpl'\nexport * from './misc'\nexport * from './util'\nexport * from './style'\nexport * from './JsonImpl'","import { unique } from 'jsx-alone-core';\n\n/** returns element mark, if it doesn't have one generates one. It adds an unique data-attribute */\nexport function markElement(e: HTMLElement, label = '_jsxa_') {\n  let key = e.getAttribute(`data-${label}`);\n  if (!key) {\n    key = unique(label);\n    e.setAttribute(`data-${label}`, key);\n  }\n  return key;\n}\nexport function getElementMark(e: HTMLElement, label = '_jsxa_') {\n  return e.getAttribute(`data-${label}`);\n}\nexport function isElementMarked(e: HTMLElement, label = '_jsxa_') {\n  return !!getElementMark(e, label);\n}\nexport function getMarkedElement<T extends Element = Element>(key: string, parent = document, label = '_jsxa_') {\n  return parent.querySelector<T>(getMarkSSelector(label, key));\n}\nexport function getMarkSSelector(label: string, key?: string): string {\n  return key ? `[data-${label}=\"${key}\"]` : `[data-${label}]`;\n}\n","import { RefObject, unique } from 'jsx-alone-core';\nimport { ElementClass } from '.';\nimport { ElementLike } from './types';\nimport { getMarkedElement, markElement } from './mark';\n\nexport class RefObjectImpl<T extends Element & ElementClass> implements RefObject<T> {\n  _current: T | string | null = null\n  public get current(): T | null {\n    return typeof this._current === 'string' ? getMarkedElement(this._current) : this._current\n  }\n}\n\n  // /** @internal */\nexport function setRef<T extends ElementClass & Element>({ el, value, elementLike }: { el: HTMLElement, value: RefObjectImpl<T>, elementLike: ElementLike }) {\n    // console.log('__addRef', elementLike._elementClassInstance || markElement(el));\n    value._current = elementLike._elementClassInstance || markElement(el) as any\n  }","import { getElementMark, markElement } from './mark';\nimport { unique } from 'jsx-alone-core';\n\nexport interface MEvent<C extends EventTarget | HTMLElement = any, T extends EventTarget | HTMLElement = any> extends Event {\n  currentTarget: C;\n  target: T;\n}\n\nexport type EventListener<C extends EventTarget | HTMLElement = any, T extends EventTarget | HTMLElement = any> = (e: MEvent) => any\n\ninterface Entry {\n  mark: string,\n  fn: EventListener\n  type: string\n  options?: boolean | AddEventListenerOptions\n}\n\n/** \n * Provides event delegation management to all nodes generated in a render() \n * call, using the root element (the one returned bu JSXAlone.render() call) to addEventListener\n * \n * TODO: remove registeredByType tp speed up - we dont really need that.\n * \n * TODO: options\n */\nexport class RootEventManager {\n\n  constructor(private root: HTMLElement) {\n    this.rootListener = this.rootListener.bind(this)\n  }\n\n  private registeredByType: { [type: string]: Entry[] } = {}\n\n  private mark = '_jsxa_e'+unique('_')\n  private markElement(el: HTMLElement) {\n    return markElement(el, this.mark)\n  }\n  private getElementMark(e: HTMLElement) {\n    return getElementMark(e, this.mark)\n  }\n\n  /** private handler for all events */\n  private rootListener(e: MEvent): any {\n    if (e.target) {\n      const mark = this.getElementMark(e.target)\n      const entry = mark && (this.registeredByType[e.type.toLowerCase()] || []).find(e => e.mark === mark)\n      if (entry) {\n        entry.fn(e)\n      }\n    }\n  }\n\n  addEventListener(el: HTMLElement, type: string, fn: EventListener) {\n    type = type.toLowerCase()\n    let ls = this.registeredByType[type]\n    if (!ls) {\n      ls = this.registeredByType[type] = []\n      this.root.addEventListener(type, this.rootListener) // \n    }\n    const mark = this.markElement(el)\n    let entry: Entry | undefined = ls.find(e => e.mark === mark)\n    if (!entry) {\n      entry = { mark, fn, type }\n      ls.push(entry)\n    }\n  }\n\n  /** removes event listeners for element inside root */\n  removeListeners(el: HTMLElement, types?: []) {\n    const mark = this.getElementMark(el);\n    if (mark) {\n      (types || Object.keys(this.registeredByType).map(t => t.toLowerCase())).forEach(t => {\n        this.registeredByType[t] = (this.registeredByType[t] || []).filter(e => e.mark !== mark)\n      })\n    }\n  }\n\n  uninstall(types?: []) {\n    (types || Object.keys(this.registeredByType).map(t => t.toLowerCase())).forEach(t => {\n      (this.registeredByType[t] || []).map(e => e.fn).forEach(listener => {\n        this.root.removeEventListener(t, listener)\n      })\n    })\n  }\n  \n}\n\n","import { createCreateElement, CreateElementFunction, CreateCreateElementConfig } from 'jsx-alone-core';\r\nimport {  ElementClass, getCreateCreateElementConfig, ElementLike, ElementLikeImpl, ElementLikeImplRenderConfig, RenderOutput, TextNodeLikeImpl, JSXAlone as JSXAloneBase} from 'jsx-alone-dom';\r\n\r\nexport const createCreateConfig: CreateCreateElementConfig<RenderOutput, ElementLike> = {\r\n  ...getCreateCreateElementConfig(),\r\n\r\n  impl: ElementLikeImpl,\r\n\r\n  textNodeImpl: TextNodeLikeImpl,\r\n}\r\n\r\nexport const JSXAlone    : typeof JSXAloneBase = {\r\n\r\n  createElement: createCreateElement<RenderOutput, ElementLike>(createCreateConfig),\r\n\r\n  render : JSXAloneBase.render,\r\n  createRef: JSXAloneBase.createRef\r\n  \r\n}\r\n\r\n\r\nexport { ElementClass };\r\n\r\n","import { ElementClass } from './'\n\nexport abstract class StatefulComponent<P = {}, S =P> extends ElementClass<P> {\n  state: S ={} as any\n\n  constructor(p: P) {\n    super(p)\n    this.state ={...(p as any)}\n  }\n\n  /** changes the state, clean up containerEl and renders the element again and append it to containerEl. \n   * Notice that descendant elements will be destroyed and */\n  setState(  s: Partial<S>) {\n    //@ts-ignore\n    this.state = { ...this.state, ...s }  \n  }\n\n}\n","import { JSXAlone } from './';\nimport { StatefulComponent } from './StatefulComponent';\n\n/** \n * implements stateful-ness by re-rendering it self again and again when the state changes. So it destroy its current\n * DOM nodes when the state changes and recreates them all again. Has some hacks to maintain current focus and children\n * state. \n *\n * Preserves focus. \n *\n * TODO: event listeners are not removed\n *\n * TODO: parent re-render actually resets the children (ISSUE)\n */\nexport abstract class DestructiveDomRenderComponent<P = {}, S = P> extends StatefulComponent<P, S> {\n  /** changes the state, clean up containerEl and renders the element again and append it to containerEl.\n   * Notice that descendant elements will be destroyed and */\n  setState(s: Partial<S>) {\n    super.setState(s);\n    if(!this.containerEl){\n      throw new Error('this.containerEl is undefined - cannot DestructiveDomRender')\n    }\n    let activePath: XPathResult | string | undefined;\n    let selection: {\n      start: number;\n      end: number;\n      direction?: string;\n    } = { start: 0, end: 0 };\n    if (document.activeElement) {\n      activePath = getXPathOfElement(document.activeElement);\n      selection = {\n        start: (document.activeElement as HTMLInputElement).selectionStart || 0,\n        end: (document.activeElement as HTMLInputElement).selectionEnd || 0,\n        direction: (document.activeElement as HTMLInputElement).selectionDirection || undefined\n      };\n    }\n    const jsx = this.render();\n    const el = JSXAlone.render(jsx);\n    this.containerEl.parentElement!.replaceChild(el, this.containerEl);\n    this.containerEl = el as HTMLElement;\n    if (activePath) {\n      const activeEl = getElementByXPath(activePath + '') as HTMLInputElement;\n      if (activeEl && selection) {\n        activeEl.focus();\n        if (activeEl.setSelectionRange) {\n          activeEl.setSelectionRange(selection.start, selection.end, selection.direction as any);\n        }\n      }\n    }\n  }\n}\n//  TODO: move to misc\nfunction getXPathOfElement(el: Element | string): string | undefined {\n  if (typeof el == 'string') {\n    return document.evaluate(el, document, null, 0, null) + '';\n  }\n  if (!el || el.nodeType != 1) {\n    return '';\n  }\n  if (el.id)\n    return \"//*[@id='\" + el.id + \"']\";\n  if (el.parentNode) {\n    const sames = Array.from(el.parentNode.children).filter(x => x.tagName == el.tagName);\n    return (getXPathOfElement(el.parentNode as Element) +\n      '/' +\n      (el.tagName || '').toLowerCase() +\n      (sames.length > 1 ? '[' + (sames.indexOf(el) + 1) + ']' : ''));\n  }\n  else {\n    return undefined;\n  }\n}\n//  TODO: move to misc\nfunction getElementByXPath(path: string, predicate?: (n: Node) => boolean): Node | undefined {\n  const p = document.evaluate(path, document, null, 0, null);\n  if (!predicate) {\n    return p.iterateNext();\n  }\n  try {\n    let n;\n    let n2;\n    while ((n = p.iterateNext()) && !predicate(n)) {\n      n2 = n;\n    }\n    return n2;\n  }\n  catch (e) {\n    alert('Error: Document tree modified during iteration ' + e);\n  }\n}\n","export * from './createElement'\nexport * from './StatefulComponent'\nexport * from './DestructiveDomRenderComponent'\n// export * from './UpdateDomComponent'","import { JSXAlone, StatefulComponent } from '..'\nimport { DestructiveDomRenderComponent } from '../DestructiveDomRenderComponent';\n\nexport function statefulElementClassTestRenderApp(this: any) {\n  const parent = document.createElement('div')\n  document.body.appendChild(parent)\n  const el = JSXAlone.render(<App people={[{ name: 'seba' }, { name: 'lau' }]} />, { parent  }) as HTMLElement\n  parent.appendChild(el)\n  return parent\n}\n\ninterface RepeaterP{\n  value: string\n}\nclass Repeater extends DestructiveDomRenderComponent<RepeaterP, RepeaterP> {\n  constructor(p: RepeaterP) {\n    super(p)\n    this.state = { ...p }\n  }\n  render() {\n    return (\n      <div className=\"Repeater\">\n        Write something:\n        <input\n          value={this.state.value}\n          onKeyUp={e => {\n            this.setState({ value: e.currentTarget.value })\n          }}\n        />\n        <br />\n        Will be repeated: <span>{this.state.value}</span>{' '}\n      </div>\n    )\n  }\n}\n\ninterface P {\n  people: {\n    name: string\n  }[]\n}\n\nclass App extends DestructiveDomRenderComponent<P, P> {\n  constructor(p: P) {\n    super(p)\n    this.state = { ...p }\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <button id=\"add\" onClick={e => this.setState({ people: [...this.state.people, { name: 'random name ' + Math.random() }] })}>\n          add\n        </button>\n        <ul>\n          {this.state.people.map(p => (\n            <li data-id={p.name}>\n              <Repeater value={p.name} />\n              <button\n                className=\"remove\"\n                onClick={e => {\n                  this.setState({ people: this.state.people.filter(p2 => p2.name !== p.name) })\n                }}>\n                remove\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  }\n  setState(s: Partial<P>) {\n    this.state = { ...this.state, ...s };\n    this.containerEl!.innerHTML = '';\n    this.containerEl!.appendChild(JSXAlone.render(this.render()));\n  }\n}","import { statefulElementClassTestRenderApp } from \"./statefulElementClassTestRenderApp\";\nstatefulElementClassTestRenderApp()"]}