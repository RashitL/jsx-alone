{"version":3,"sources":["../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/util.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/elementImpl.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/elementClass.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/createElement.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/misc.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/index.js","../../node_modules/jsx-alone-dom/dist/src/elementImpl.js","../../node_modules/jsx-alone-dom/dist/src/createElement.js","../../node_modules/jsx-alone-dom/dist/src/index.js","../../dist/src/StatefulElementClass.js","../../dist/src/__tests__/statefulElementClassTestRenderApp.js","../../dist/src/__tests__/statefulElementClassTestMain.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","checkThrow","r","msg","Error","array","sample","a","push","repeat","join","indent","tabSize","getPosition","string","subString","index","split","removeWhites","replaceWith","replace","trim","randomIntBetween","b","Math","floor","random","randomItem","printMs","ms","config","minutes","seconds","milliseconds","util_1","require","isJSXAloneComponent","c","render","isNode","isTextNodeLike","isElementLike","setAttribute","content","AbstractTextNodeLike","AbstractElementLike","tag","attrs","children","name","appendChild","parentElement","findDescendant","found","some","findAscendant","getAscendants","concat","getRootAscendant","getSiblings","_this","filter","findSibling","find","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","__","constructor","create","elementImpl_1","ElementClass","props","childrenAsArray","isArray","childrenElementsAsArray","firstChildElement","e","AbstractElementClass","_super","throwOnUnrecognized","debug","err","console","error","createCreateElement","impl","textNodeImpl","escapeAttributes","functionAttributes","onElementReady","onElementCreate","createElement","_i","element","elementClassInstance","_loop_1","name_1","value_1","code","toString","escaped","keys","map","__html","dangerouslySetInnerHTML","forEach","child","elementLike","AbstractJSXAlone","_1","Fragment","Js","log","If","f","isNotFalsy","__export","m","jsx_alone_dom_1","StatefulElementClass","state","containerEl","undefined","setState","activePath","selection","document","activeElement","getXPathOfElement","start","selectionStart","end","selectionEnd","direction","selectionDirection","jsx","el","JSXAlone","replaceChild","activeEl","getElementByXPath","focus","setSelectionRange","setContainerEl","evaluate","nodeType","id","parentNode","sames","from","x","tagName","toLowerCase","indexOf","path","predicate","iterateNext","n2","alert","StatefulElementClass_1","statefulElementClassTestRenderApp","parent","body","App","people","initialContext","Repeater","className","onKeyUp","currentTarget","onClick","p2","statefulElementClassTestRenderApp_1"],"mappings":"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C,QAAD,CAAR,CAAR;;AACAqF,QAAQ,CAACrF,OAAO,CAAC,QAAD,CAAR,CAAR;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACRA;;AACA,IAAI6B,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,cAAa,GAAG,uBAAUC,CAAV,EAAa3C,CAAb,EAAgB;AAChC0C,IAAAA,cAAa,GAAGhF,MAAM,CAACkF,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUH,CAAV,EAAa3C,CAAb,EAAgB;AAAE2C,MAAAA,CAAC,CAACE,SAAF,GAAc7C,CAAd;AAAkB,KAD/D,IAEZ,UAAU2C,CAAV,EAAa3C,CAAb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","file":"statefulElementClassTestMain.fcd7f195.map","sourceRoot":"../../../jsx-alone-dom-extra/src/__tests__","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction checkThrow(r, msg) {\n    if (msg === void 0) { msg = 'Throwing on undefined value'; }\n    if (!r) {\n        throw new Error(msg);\n    }\n    return r;\n}\nexports.checkThrow = checkThrow;\n// export function tryTo<F extends (...args: any[]) => any>(f: F): ReturnType<F> | undefined {\n//   try {\n//     return f()\n//   } catch (error) {\n//   }\n// }\nfunction array(n, sample) {\n    var a = [];\n    for (var i = 0; i < n; i++) {\n        a.push(typeof sample === 'undefined' ? i : sample);\n    }\n    return a;\n}\nexports.array = array;\nfunction repeat(n, s) {\n    return array(n, s).join('');\n}\nexports.repeat = repeat;\nfunction indent(i, tabSize) {\n    if (i === void 0) { i = 1; }\n    if (tabSize === void 0) { tabSize = 2; }\n    return repeat(i * tabSize, ' ');\n}\nexports.indent = indent;\nfunction getPosition(string, subString, index) {\n    return string.split(subString, index).join(subString).length;\n}\nexports.getPosition = getPosition;\nfunction removeWhites(s, replaceWith) {\n    if (replaceWith === void 0) { replaceWith = ' '; }\n    return s.replace(/\\s+/gm, replaceWith).trim();\n}\nexports.removeWhites = removeWhites;\nfunction randomIntBetween(a, b) {\n    return Math.floor(Math.random() * b) + a;\n}\nexports.randomIntBetween = randomIntBetween;\nfunction randomItem(array) {\n    return array[randomIntBetween(0, array.length)];\n}\nexports.randomItem = randomItem;\nfunction printMs(ms, config) {\n    if (config === void 0) { config = { minutes: false, seconds: true, ms: true }; }\n    config = __assign({ minutes: false, seconds: true, ms: true }, config);\n    var seconds = config.seconds && Math.floor(ms / 1000);\n    var minutes = config.minutes && seconds && Math.floor(seconds / 60);\n    var milliseconds = config.ms && Math.floor(ms % 1000 || ms);\n    return \"\" + (minutes ? minutes + \" minutes \" : '') + (seconds ? seconds + \" seconds \" : '') + (milliseconds ? milliseconds + \" ms \" : '');\n}\nexports.printMs = printMs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_1 = require(\"./util\");\nfunction isJSXAloneComponent(c) {\n    return c.prototype && c.prototype.render;\n}\nexports.isJSXAloneComponent = isJSXAloneComponent;\nfunction isNode(n) {\n    return isTextNodeLike(n) || isElementLike(n);\n}\nexports.isNode = isNode;\nfunction isElementLike(n) {\n    return n && n.setAttribute;\n}\nexports.isElementLike = isElementLike;\nfunction isTextNodeLike(n) {\n    return n && n.content && !isElementLike(n);\n}\nexports.isTextNodeLike = isTextNodeLike;\nvar AbstractTextNodeLike = /** @class */ (function () {\n    function AbstractTextNodeLike(content) {\n        this.content = content;\n    }\n    return AbstractTextNodeLike;\n}());\nexports.AbstractTextNodeLike = AbstractTextNodeLike;\nvar AbstractElementLike = /** @class */ (function () {\n    function AbstractElementLike(tag) {\n        this.tag = tag;\n        this.attrs = {};\n        this.children = [];\n    }\n    AbstractElementLike.prototype.setAttribute = function (name, value) {\n        this.attrs[name] = value;\n    };\n    AbstractElementLike.prototype.appendChild = function (c) {\n        this.children.push(c);\n        if (isElementLike(c)) {\n            c.parentElement = this;\n        }\n    };\n    AbstractElementLike.prototype.findDescendant = function (p) {\n        var found;\n        this.children.some(function (c) {\n            if (isElementLike(c)) {\n                if (p(c)) {\n                    found = c;\n                }\n                else {\n                    found = c.findDescendant(p);\n                }\n            }\n            return !!found;\n        });\n        return found;\n    };\n    AbstractElementLike.prototype.findAscendant = function (p) {\n        if (this.parentElement) {\n            if (p(this.parentElement)) {\n                return this.parentElement;\n            }\n            return this.parentElement.findAscendant(p);\n        }\n    };\n    AbstractElementLike.prototype.getAscendants = function () {\n        return this.parentElement ? this.parentElement.getAscendants().concat([this.parentElement]) : [];\n    };\n    AbstractElementLike.prototype.getRootAscendant = function () {\n        var r = this.parentElement ? this.findAscendant(function (n) { return isElementLike(n) && !n.parentElement; }) : this;\n        return util_1.checkThrow(r, 'No root ascendant found in element like tree!');\n    };\n    AbstractElementLike.prototype.getSiblings = function () {\n        var _this = this;\n        if (this.parentElement) {\n            return this.parentElement.children.filter(function (c) { return c !== _this; });\n        }\n        return [];\n    };\n    AbstractElementLike.prototype.findSibling = function (p) {\n        return this.getSiblings().find(p);\n    };\n    AbstractElementLike.prototype.find = function (p) {\n        // TODO: this should start searching in the near children, sibling and parents, and only after that look on far nodes\n        return this.getRootAscendant().findDescendant(p);\n    };\n    return AbstractElementLike;\n}());\nexports.AbstractElementLike = AbstractElementLike;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar elementImpl_1 = require(\"./elementImpl\");\n/**\n * A Class able to render() JSX. Similar to React.Component but only supporting properties, without state, context, ref, did/will methods, etc.\n */\nvar ElementClass = /** @class */ (function () {\n    function ElementClass(props) {\n        this.props = props;\n    }\n    ElementClass.prototype.childrenAsArray = function () {\n        return (Array.isArray(this.props.children) ? this.props.children : [this.props.children]);\n    };\n    ElementClass.prototype.childrenElementsAsArray = function () {\n        return this.childrenAsArray().filter(function (c) { return elementImpl_1.isElementLike(c); });\n    };\n    ElementClass.prototype.firstChildElement = function () {\n        return this.childrenAsArray().find(function (e) { return true; });\n    };\n    return ElementClass;\n}());\nexports.ElementClass = ElementClass;\nvar AbstractElementClass = /** @class */ (function (_super) {\n    __extends(AbstractElementClass, _super);\n    function AbstractElementClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractElementClass;\n}(ElementClass));\nexports.AbstractElementClass = AbstractElementClass;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar elementImpl_1 = require(\"./elementImpl\");\nvar throwOnUnrecognized = false;\nfunction debug(err) {\n    if (throwOnUnrecognized) {\n        throw err;\n    }\n    else {\n        console.error(err);\n    }\n}\nexports.debug = debug;\n// let lastElementClassInstance:JSXAloneComponent|undefined\nfunction createCreateElement(config) {\n    var impl = config.impl, textNodeImpl = config.textNodeImpl, escapeAttributes = config.escapeAttributes, functionAttributes = config.functionAttributes, onElementReady = config.onElementReady, onElementCreate = config.onElementCreate;\n    return function createElement(tag, attrs) {\n        if (attrs === void 0) { attrs = {}; }\n        var children = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            children[_i - 2] = arguments[_i];\n        }\n        var element;\n        var elementClassInstance;\n        if (typeof tag === 'string') {\n            element = new impl(tag);\n        }\n        else {\n            if (elementImpl_1.isJSXAloneComponent(tag)) {\n                elementClassInstance =\n                    // lastElementClassInstance=\n                    new tag(__assign({}, attrs, { children: children }));\n                element = elementClassInstance.render();\n            }\n            else {\n                element = tag(__assign({}, attrs, { children: children }));\n                //TODO: expose function element context\n            }\n            attrs = {};\n        }\n        var _loop_1 = function (name_1) {\n            if (name_1 && attrs.hasOwnProperty(name_1)) {\n                var value_1 = attrs[name_1];\n                if (typeof value_1 === 'boolean') {\n                    if (value_1 === true) {\n                        element.setAttribute(name_1, name_1);\n                    }\n                }\n                else if (typeof value_1 === 'function') {\n                    if (!functionAttributes || functionAttributes === 'preserve') {\n                        element.setAttribute(name_1, value_1);\n                    }\n                    else {\n                        var code = functionAttributes === 'toString-this' ? \"_this = __this__ = this; (\" + value_1.toString() + \").apply(_this, arguments)\" : value_1.toString();\n                        var escaped = escapeAttributes ? escapeAttributes(code) : code;\n                        element.setAttribute(name_1, escaped);\n                    }\n                }\n                else if (value_1 !== false && value_1 != null) {\n                    if (name_1 === 'className') {\n                        if (typeof value_1 === 'string') {\n                            element.setAttribute('class', value_1);\n                        }\n                        else if (Array.isArray(value_1) && value_1.length && typeof value_1[0] === 'string') {\n                            element.setAttribute('class', value_1.join(' '));\n                        }\n                        else {\n                            debug(\"unrecognized className value \" + typeof value_1 + \" \" + value_1);\n                        }\n                    }\n                    else {\n                        element.setAttribute(name_1, value_1.toString());\n                    }\n                }\n                else if (typeof value_1 === 'object') {\n                    if (name_1 === 'style') {\n                        element.setAttribute('style', \"\" + Object.keys(value_1)\n                            .map(function (p) { return p + \": \" + value_1[p]; })\n                            .join('; '));\n                    }\n                    else if (name_1 === 'dangerouslySetInnerHTML' && value_1 && typeof value_1.__html === 'string') {\n                        element.dangerouslySetInnerHTML(value_1.__html);\n                    }\n                    else {\n                        debug(\"unrecognized object attribute \\\"\" + name_1 + \"\\\" - the only object attribute supported is \\\"style\\\"\");\n                    }\n                }\n                else {\n                    debug(\"unrecognized attribute \\\"\" + name_1 + \"\\\" with type \" + typeof value_1);\n                }\n            }\n        };\n        // elementClassInstance=elementClassInstance || lastElementClassInstance\n        for (var name_1 in attrs) {\n            _loop_1(name_1);\n        }\n        if (typeof tag === 'string') {\n            // don't render children for function or classes since they are responsible of render their own children\n            children\n                .filter(function (c) { return c; })\n                .forEach(function (child) {\n                if (elementImpl_1.isNode(child)) {\n                    element.appendChild(child);\n                }\n                else if (Array.isArray(child)) {\n                    child.forEach(function (c) {\n                        if (typeof c === 'string') {\n                            element.appendChild(new textNodeImpl(c));\n                        }\n                        else if (elementImpl_1.isNode(c)) {\n                            element.appendChild(c);\n                        }\n                        else {\n                            debug(\"Child is not a node or string: \" + c + \" , tag: \" + tag);\n                        }\n                    });\n                }\n                else {\n                    element.appendChild(new textNodeImpl(child));\n                }\n            });\n        }\n        if (onElementReady) {\n            element = onElementReady(element);\n        }\n        if (onElementCreate) {\n            onElementCreate({ elementLike: element, elementClassInstance: elementClassInstance });\n        }\n        return element;\n    };\n}\nexports.createCreateElement = createCreateElement;\nexports.AbstractJSXAlone = null;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// import { AbstractJSXAlone as  } from './createElement';\nvar _1 = require(\".\");\n// export type Props = { children: Children }\n// TODO: like React.Fragment\nexports.Fragment = function (props) { return _1.AbstractJSXAlone.createElement(\"span\", null, props.children); };\nfunction Js(props) {\n    var r = props.children();\n    console.log(r);\n    return r ? _1.AbstractJSXAlone.createElement(exports.Fragment, null, r) : null;\n}\nexports.Js = Js;\n/** if as statement. children need to be in a function and the function accepts a parameter which value is given condition `c` but casted to NotFalsy<C> so there's no need of type guards in the body. Example:\n```\n<If c={type}>{type =>\n  <select multiple={true}>{names[type].map(c =>\n      <option value={c.id}>{c.label}</option>)}\n  </select>\n</If>\n```\n\nNo error thrown on second line because parameter type is not falsy but keep the original type (excluding falsy values)\n\nOther example:\n\n```\nexport class ErrorComponent extends React.Component<ErrorOptions> {\n  public render() {\n    return <div>\n      <If c={this.props.error}>{error =>\n        <React.Fragment>\n          <h2>Error</h2>\n          <If c={typeof error === 'string'}>{e =>\n            <h3>{e}</h3>}\n          </If>\n          <If c={typeof error === 'object'}>{e =>\n            <React.Fragment>\n              <h5>{error!.name}</h5>\n              <p>{error!.message}</p>\n              <If c={error.stack}>{e =>\n                <ul>\n                  {e.split('\\n').map(e =>\n                    <li>{e}</li>)}\n                </ul>}\n              </If>\n            </React.Fragment>}\n          </If>\n          <If c={this.props.responseText}>{responseText =>\n            <iframe css={{ border: 0, width: '100%', height: '400px' }} srcDoc={responseText}>\n            </iframe>}\n          </If>\n        </React.Fragment>}\n      </If>\n    </div>\n  }\n}\n\n```\n*/\nfunction If(props) {\n    //TODO: issue in dom implementation, children is an array \n    var f = Array.isArray(props.children) ? props.children[0] : props.children;\n    var c = props.c, p = props.p;\n    if (isNotFalsy(c))\n        return f.apply(null, (p ? [p] : []).concat([c]));\n    else {\n        return null;\n    }\n}\nexports.If = If;\nfunction isNotFalsy(a) { return !!a; }\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./elementImpl\"));\n__export(require(\"./elementClass\"));\n__export(require(\"./createElement\"));\nvar elementImpl_1 = require(\"./elementImpl\");\nexports.AbstractTextNodeLike = elementImpl_1.AbstractTextNodeLike;\nexports.AbstractElementLike = elementImpl_1.AbstractElementLike;\n__export(require(\"./misc\"));\n__export(require(\"./util\"));\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_core_1 = require(\"jsx-alone-core\");\nvar ElementLikeImpl = /** @class */ (function (_super) {\n    __extends(ElementLikeImpl, _super);\n    function ElementLikeImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ElementLikeImpl.prototype.render = function (config) {\n        var _this = this;\n        if (config === void 0) { config = {}; }\n        var el = document.createElement(this.tag);\n        // this is the context in which  function attributes of this and descendants will be evaluated. It's set up by createCreateElementConfig see below.\n        var elementClassInstance = (this.parentElement && this.parentElement._elementClassInstance) || this._elementClassInstance;\n        var functionAttributeContext = elementClassInstance || config.initialContext;\n        Object.keys(this.attrs).forEach(function (attribute) {\n            var value = _this.attrs[attribute];\n            if (typeof value === 'function') {\n                if (config.dontAddEventListeners) {\n                    el.setAttribute(attribute, value.toString());\n                }\n                else {\n                    var fn = functionAttributeContext ? value.bind(functionAttributeContext) : value;\n                    //TODO: el.removeEventListener??\n                    // console.log('addEventListener:', this.tag, attribute.substring(2, attribute.length).toLowerCase(), elementClassInstance && elementClassInstance.name);\n                    el.addEventListener(attribute.substring(2, attribute.length).toLowerCase(), fn);\n                    // this.attrs[attribute] = undefined // forget the attribute\n                }\n            }\n            else {\n                el.setAttribute(attribute, value + '');\n            }\n        });\n        if (this._innerHtml) {\n            el.innerHTML = this._innerHtml;\n        }\n        this.children.forEach(function (c) {\n            if (isElementLikeImpl(c) && functionAttributeContext) {\n                c._originalElementClassInstance = c._elementClassInstance;\n                c._elementClassInstance = elementClassInstance || c._elementClassInstance;\n            }\n            c.render(__assign({}, config, { parent: el }));\n        });\n        if (config.parent) {\n            config.parent.appendChild(el);\n        }\n        var elementClassWithContainer = this._originalElementClassInstance || this._elementClassInstance;\n        if (elementClassWithContainer && elementClassWithContainer.setContainerEl) {\n            elementClassWithContainer.setContainerEl(el);\n        }\n        this._elementClassInstance = undefined; // forget the reference\n        this._originalElementClassInstance = undefined; // forget the reference\n        return el;\n    };\n    ElementLikeImpl.prototype.dangerouslySetInnerHTML = function (s) {\n        this._innerHtml = s;\n    };\n    return ElementLikeImpl;\n}(jsx_alone_core_1.AbstractElementLike));\nexports.ElementLikeImpl = ElementLikeImpl;\nvar TextNodeLikeImpl = /** @class */ (function (_super) {\n    __extends(TextNodeLikeImpl, _super);\n    function TextNodeLikeImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextNodeLikeImpl.prototype.render = function (config) {\n        if (config === void 0) { config = {}; }\n        var text = document.createTextNode(this.content);\n        if (config.parent) {\n            config.parent.appendChild(text);\n        }\n        return text;\n    };\n    return TextNodeLikeImpl;\n}(jsx_alone_core_1.AbstractTextNodeLike));\nexports.TextNodeLikeImpl = TextNodeLikeImpl;\nvar ElementClass = /** @class */ (function (_super) {\n    __extends(ElementClass, _super);\n    function ElementClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /** element classes in DOM implementation will be given its container element. The default implementation just ignore this to keep it lightweight, but other implementations could overwrite this method */\n    ElementClass.prototype.setContainerEl = function (el) { };\n    return ElementClass;\n}(jsx_alone_core_1.ElementClass));\nexports.ElementClass = ElementClass;\nexports.createCreateElementConfig = {\n    impl: ElementLikeImpl,\n    textNodeImpl: TextNodeLikeImpl,\n    functionAttributes: 'preserve',\n    onElementCreate: function (_a) {\n        var elementLike = _a.elementLike, elementClassInstance = _a.elementClassInstance;\n        // console.log(\n        //   elementClassInstance,\n        //   elementLike && elementLike.tag,\n        //   elementLike && elementLike.attrs && elementLike.attrs.className,\n        //   elementLike._elementClassInstance\n        // )\n        if (elementClassInstance) {\n            elementLike._elementClassInstance = elementClassInstance;\n        }\n    }\n};\nfunction isElementLikeImpl(a) { return jsx_alone_core_1.isElementLike(a); }\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_core_1 = require(\"jsx-alone-core\");\nvar elementImpl_1 = require(\"./elementImpl\");\nvar Module = {\n    createElement: jsx_alone_core_1.createCreateElement(elementImpl_1.createCreateElementConfig),\n    render: function (el, config) {\n        if (config === void 0) { config = {}; }\n        return el.render(__assign({}, config, { initialContext: this }));\n    }\n};\nexports.JSXAlone = Module;\n// //@ts-ignore\n// if(typeof React !=='undefined'){  React = Module}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./createElement\"));\nvar elementImpl_1 = require(\"./elementImpl\");\nexports.ElementClass = elementImpl_1.ElementClass;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_dom_1 = require(\"jsx-alone-dom\");\nvar StatefulElementClass = /** @class */ (function (_super) {\n    __extends(StatefulElementClass, _super);\n    function StatefulElementClass(p) {\n        var _this = _super.call(this, p) || this;\n        _this.state = {};\n        _this.containerEl = undefined;\n        _this.state = __assign({}, p);\n        return _this;\n    }\n    /** changes the state, clean up containerEl and renders the element again and append it to containerEl. Notice that descendant elements will be destroyed and */\n    StatefulElementClass.prototype.setState = function (s) {\n        this.state = __assign({}, this.state, s);\n        var activePath;\n        var selection;\n        if (document.activeElement) {\n            activePath = getXPathOfElement(document.activeElement);\n            selection = { start: document.activeElement.selectionStart || 0, end: document.activeElement.selectionEnd || 0, direction: document.activeElement.selectionDirection || 'forward' };\n            // if((document.activeElement as HTMLInputElement).selectionStart)\n        }\n        var jsx = this.render();\n        var el = jsx_alone_dom_1.JSXAlone.render(jsx);\n        // this.containerEl.parentElement!\n        this.containerEl.parentElement.replaceChild(el, this.containerEl); // This should remove event listeners too\n        this.containerEl = el;\n        // this.containerEl.innerHTML = '' // This should remove event listeners too\n        // this.containerEl.appendChild(el)\n        if (activePath) {\n            var activeEl = getElementByXPath(activePath + '');\n            if (activeEl && selection) {\n                activeEl.focus();\n                activeEl.setSelectionRange && activeEl.setSelectionRange(selection.start, selection.end, selection.direction);\n            }\n        }\n    };\n    /** called by ElementLike.render() */\n    StatefulElementClass.prototype.setContainerEl = function (el) {\n        this.containerEl = el;\n    };\n    return StatefulElementClass;\n}(jsx_alone_dom_1.ElementClass));\nexports.StatefulElementClass = StatefulElementClass;\nfunction getXPathOfElement(el) {\n    if (typeof el == 'string') {\n        return document.evaluate(el, document, null, 0, null) + '';\n    }\n    if (!el || el.nodeType != 1) {\n        return '';\n    }\n    if (el.id)\n        return \"//*[@id='\" + el.id + \"']\";\n    if (el.parentNode) {\n        var sames = Array.from(el.parentNode.children).filter(function (x) { return x.tagName == el.tagName; });\n        // var sames = [].filter.call(el.parentNode.children, function (x:HTMLElement) { return x.tagName == el.tagName })\n        return (getXPathOfElement(el.parentNode) +\n            '/' +\n            (el.tagName || '').toLowerCase() +\n            (sames.length > 1 ? '[' + (sames.indexOf(el) + 1) + ']' : ''));\n    }\n    else {\n        return undefined;\n    }\n}\nfunction getElementByXPath(path, predicate) {\n    var p = document.evaluate(path, document, null, 0, null);\n    if (!predicate) {\n        return p.iterateNext();\n    }\n    try {\n        var n = void 0;\n        var n2 = void 0;\n        while ((n = p.iterateNext()) && !predicate(n)) {\n            n2 = n;\n        }\n        return n2;\n    }\n    catch (e) {\n        alert('Error: Document tree modified during iteration ' + e);\n    }\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_dom_1 = require(\"jsx-alone-dom\");\nvar StatefulElementClass_1 = require(\"../StatefulElementClass\");\nfunction statefulElementClassTestRenderApp() {\n    var parent = document.createElement('div');\n    document.body.appendChild(parent);\n    var el = jsx_alone_dom_1.JSXAlone.render(jsx_alone_dom_1.JSXAlone.createElement(App, { people: [{ name: 'seba' }, { name: 'lau' }] }), { parent: parent, initialContext: this });\n    parent.appendChild(el);\n    return parent;\n}\nexports.statefulElementClassTestRenderApp = statefulElementClassTestRenderApp;\nvar Repeater = /** @class */ (function (_super) {\n    __extends(Repeater, _super);\n    function Repeater(p) {\n        var _this = _super.call(this, p) || this;\n        _this.state = __assign({}, p);\n        return _this;\n    }\n    Repeater.prototype.render = function () {\n        var _this = this;\n        return (jsx_alone_dom_1.JSXAlone.createElement(\"div\", { className: \"Repeater\" },\n            \"Write something:\",\n            jsx_alone_dom_1.JSXAlone.createElement(\"input\", { value: this.state.value, onKeyUp: function (e) {\n                    console.log(e.currentTarget.value);\n                    _this.setState({ value: e.currentTarget.value });\n                } }),\n            jsx_alone_dom_1.JSXAlone.createElement(\"br\", null),\n            \"Will be repeated: \",\n            jsx_alone_dom_1.JSXAlone.createElement(\"span\", null, this.state.value),\n            ' '));\n    };\n    return Repeater;\n}(StatefulElementClass_1.StatefulElementClass));\nvar App = /** @class */ (function (_super) {\n    __extends(App, _super);\n    function App(p) {\n        var _this = _super.call(this, p) || this;\n        _this.state = __assign({}, p);\n        return _this;\n    }\n    App.prototype.render = function () {\n        var _this = this;\n        return (jsx_alone_dom_1.JSXAlone.createElement(\"div\", { className: \"App\" },\n            jsx_alone_dom_1.JSXAlone.createElement(\"button\", { id: \"add\", onClick: function (e) { return _this.setState({ people: _this.state.people.concat([{ name: 'random name ' + Math.random() }]) }); } }, \"add\"),\n            jsx_alone_dom_1.JSXAlone.createElement(\"ul\", null, this.state.people.map(function (p) { return (jsx_alone_dom_1.JSXAlone.createElement(\"li\", { \"data-id\": p.name },\n                jsx_alone_dom_1.JSXAlone.createElement(Repeater, { value: p.name }),\n                jsx_alone_dom_1.JSXAlone.createElement(\"button\", { className: \"remove\", onClick: function (e) {\n                        _this.setState({ people: _this.state.people.filter(function (p2) { return p2.name !== p.name; }) });\n                    } }, \"remove\"))); }))));\n    };\n    return App;\n}(StatefulElementClass_1.StatefulElementClass));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar statefulElementClassTestRenderApp_1 = require(\"./statefulElementClassTestRenderApp\");\nstatefulElementClassTestRenderApp_1.statefulElementClassTestRenderApp();\n"]}