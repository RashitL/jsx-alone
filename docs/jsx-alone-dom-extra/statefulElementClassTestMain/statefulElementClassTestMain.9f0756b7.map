{"version":3,"sources":["../../node_modules/jsx-alone-core/dist/src/elementImpl.js","../../node_modules/jsx-alone-core/dist/src/elementClass.js","../../node_modules/jsx-alone-core/dist/src/createElement.js","../../node_modules/jsx-alone-core/dist/src/misc.js","../../node_modules/jsx-alone-core/dist/src/util.js","../../node_modules/jsx-alone-core/dist/src/index.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/elementImpl.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/elementClass.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/createElement.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/misc.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/util.js","../../node_modules/jsx-alone-dom/node_modules/jsx-alone-core/dist/src/index.js","../../node_modules/jsx-alone-dom/dist/src/elementImpl.js","../../node_modules/jsx-alone-dom/dist/src/createElement.js","../../node_modules/jsx-alone-dom/dist/src/index.js","../../dist/src/createElement.js","../../dist/src/StatefulComponent.js","../../dist/src/ReRenderComponent.js","../../dist/src/index.js","../../dist/src/__tests__/statefulElementClassTestRenderApp.js","../../dist/src/__tests__/statefulElementClassTestMain.js"],"names":["isJSXAloneComponent","c","prototype","render","isNode","n","isTextNodeLike","isElementLike","setAttribute","content","Object","defineProperty","exports","value","AbstractTextNodeLike","AbstractElementLike","tag","attrs","children","name","appendChild","push","parentElement","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","elementImpl_1","require","ElementClass","props","childrenAsArray","isArray","childrenElementsAsArray","filter","firstChildElement","find","e","AbstractElementClass","_super","apply","arguments","__assign","assign","t","s","i","length","call","throwOnUnrecognized","debug","err","console","error","createCreateElement","config","impl","textNodeImpl","escapeAttributes","functionAttributes","onElementReady","onElementCreate","onElementCreated","createElement","element","elementClassInstance","_i","undefined","evaluateFunctionsWithNew","elementLike","_loop_1","name_1","value_1","code","toString","escaped","join","keys","map","__html","dangerouslySetInnerHTML","forEach","child","AbstractJSXAlone","_1","Js","r","log","Fragment","If","f","isNotFalsy","concat","a","checkThrow","msg","Error","array","sample","repeat","indent","tabSize","getPosition","string","subString","index","split","removeWhites","replaceWith","replace","trim","randomIntBetween","Math","floor","random","randomItem","printMs","ms","minutes","seconds","milliseconds","__export","m","jsx_alone_core_1","jsx_alone_dom_1","warn1Once","buildExtraConfig","rootElementLike","extraConfig","configHooks","handleAttribute","_a","el","attribute","dontAddEventListeners","warn","functionAttributeContext","getFunctionAttributeContextObjects","initialContext","listener","bind","eventType","substring","toLowerCase","addEventListener","handleChildRender","parent","isFunctionAttributeElement","_originalElementClassInstance","_elementClassInstance","handleAfterRender","elementClassWithContainer","setContainerEl","createCreateConfig","createCreateElementConfig","ElementLikeImpl","TextNodeLikeImpl","Module","JSXAlone","StatefulComponent","_this","state","containerEl","setState","StatefulComponent_1","ReRenderComponent","activePath","selection","start","end","document","activeElement","getXPathOfElement","selectionStart","selectionEnd","direction","selectionDirection","jsx","replaceChild","activeEl","getElementByXPath","focus","setSelectionRange","evaluate","nodeType","id","parentNode","sames","from","x","tagName","indexOf","path","predicate","iterateNext","n2","alert","__1","statefulElementClassTestRenderApp","body","App","people","Repeater","className","onKeyUp","currentTarget","StatefulElementClass","onClick","p2","statefulElementClassTestRenderApp_1"],"mappings":"AMAA,AIAA,aJEA,AIDA,IAAIkD,EAAY,GJCPlD,EAAoBC,CIDL,EJEbA,GIFkBiD,IJElBjD,EAAEC,IIF6B,OJEhBD,EAAEC,EIOjBgD,OARPA,CJCkC/C,CIDvBO,MJIf,CIJsByC,QJIb/C,AIJuB,EJIhBC,GACLC,IIL8B8C,GJK9B9C,AIJE,EJIaD,EIJb,EJImBE,EAAcF,AIJ7BgD,EAAGC,CJOpB,CIPwB,EAAGjD,EAAI4C,IJOtB1C,EAAcF,GACZA,CIR8BkD,MJQ9BlD,CIRsCiD,EJQjCjD,AIRqCA,EJQnCG,AIRsC8C,IAEvC,IAAA,IAAIxB,CJSrB,IIVYuB,EAAIJ,GJUP3C,EAAeD,GACbA,EIXeiD,GACO5C,EJUtBL,GAAKA,EAAEI,AIVsBP,UJUVK,AIVoBwB,EJUN1B,GAd5CK,OAAOC,GII0D6C,KAAKH,EAAGvB,KJJnDlB,AIKNwC,EAAEtB,GAAKuB,EAAEvB,CJLM,GIOhBsB,OAAAA,GJP8B,CAAEvC,AIS3BmC,MAAM,CJT4B,IAItDpC,AIKgCqC,QJLxBjD,IIQR,SAASsG,EAAWR,EAAGS,GJROvG,AIUtB,EJNRY,MIKgB,EJLRR,EIKAmG,IAAkBA,CJLTnG,CIKe,CJDhCQ,QAAQL,cAAgBA,EAIxBK,OIFSkF,CJEDxF,CIDM,MAAA,IAAIkG,IJCOlG,EACzB,AIFwBiG,GAEbT,CJAPhF,EAAsC,IIA/BgF,EASX,KJLWhF,IIKF2F,EAAMpG,CJRFS,CIQK4F,GAET,IADDL,CJT0B5F,GACrBA,AIQL4F,EAAI,GJRC5F,AISA6C,EAAI,EAAGA,EAAIjD,EJTDI,AISI6C,GJXe,CIYlC+C,EJNRzF,AIMUS,QJNFP,EIMyB,IAAX4F,EAAyBpD,EAAIoD,GAExCL,OAAAA,CJRoBvF,CIW/B,CJVA,IAAIC,EAAqC,EIUhC4F,EAAOtG,EAAGgD,GACRoD,EJVE1F,KIUF0F,EAAMpG,EJVJU,AIUOsC,EJVarC,CIUVoE,EJTVpE,GISe,EJTfA,EIYb,EJZmBA,EACNC,KAAAA,AIWJ2F,EAAOtD,EAAGuD,EJXE,CIcVF,EJbEzF,KAAAA,KIWC,IJXU,AIWhBoC,GJAGvC,CIAauC,EAAI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","file":"statefulElementClassTestMain.9f0756b7.map","sourceRoot":"../../../jsx-alone-dom-extra/src/__tests__","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isJSXAloneComponent(c) {\n    return c.prototype && c.prototype.render;\n}\nexports.isJSXAloneComponent = isJSXAloneComponent;\nfunction isNode(n) {\n    return isTextNodeLike(n) || isElementLike(n);\n}\nexports.isNode = isNode;\nfunction isElementLike(n) {\n    return n && n.setAttribute;\n}\nexports.isElementLike = isElementLike;\nfunction isTextNodeLike(n) {\n    return n && n.content && !isElementLike(n);\n}\nexports.isTextNodeLike = isTextNodeLike;\nvar AbstractTextNodeLike = /** @class */ (function () {\n    function AbstractTextNodeLike(content) {\n        this.content = content;\n    }\n    return AbstractTextNodeLike;\n}());\nexports.AbstractTextNodeLike = AbstractTextNodeLike;\nvar AbstractElementLike = /** @class */ (function () {\n    function AbstractElementLike(tag) {\n        this.tag = tag;\n        this.attrs = {};\n        this.children = [];\n    }\n    AbstractElementLike.prototype.setAttribute = function (name, value) {\n        this.attrs[name] = value;\n    };\n    AbstractElementLike.prototype.appendChild = function (c) {\n        this.children.push(c);\n        if (isElementLike(c)) {\n            c.parentElement = this;\n        }\n    };\n    return AbstractElementLike;\n}());\nexports.AbstractElementLike = AbstractElementLike;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar elementImpl_1 = require(\"./elementImpl\");\n/**\n * A Class able to render() JSX. Similar to React.Component but only supporting properties, without state, context, ref, did/will methods, etc.\n */\nvar ElementClass = /** @class */ (function () {\n    function ElementClass(props) {\n        this.props = props;\n    }\n    ElementClass.prototype.childrenAsArray = function () {\n        return (Array.isArray(this.props.children) ? this.props.children : [this.props.children]);\n    };\n    ElementClass.prototype.childrenElementsAsArray = function () {\n        return this.childrenAsArray().filter(function (c) { return elementImpl_1.isElementLike(c); });\n    };\n    ElementClass.prototype.firstChildElement = function () {\n        return this.childrenAsArray().find(function (e) { return true; });\n    };\n    return ElementClass;\n}());\nexports.ElementClass = ElementClass;\nvar AbstractElementClass = /** @class */ (function (_super) {\n    __extends(AbstractElementClass, _super);\n    function AbstractElementClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractElementClass;\n}(ElementClass));\nexports.AbstractElementClass = AbstractElementClass;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar elementImpl_1 = require(\"./elementImpl\");\nvar throwOnUnrecognized = false;\nfunction debug(err) {\n    if (throwOnUnrecognized) {\n        throw err;\n    }\n    else {\n        console.error(err);\n    }\n}\nexports.debug = debug;\nfunction createCreateElement(config) {\n    var impl = config.impl, textNodeImpl = config.textNodeImpl, escapeAttributes = config.escapeAttributes, functionAttributes = config.functionAttributes, onElementReady = config.onElementReady, onElementCreate = config.onElementCreated;\n    var createElement = function (tag, attrs) {\n        if (attrs === void 0) { attrs = {}; }\n        var children = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            children[_i - 2] = arguments[_i];\n        }\n        var element;\n        var elementClassInstance;\n        if (typeof tag === 'string') {\n            element = new impl(tag);\n        }\n        else {\n            if (elementImpl_1.isJSXAloneComponent(tag)) {\n                elementClassInstance = new tag(__assign({}, attrs, { children: children }));\n                element = elementClassInstance.render();\n            }\n            else {\n                if (typeof tag.prototype !== undefined && config.evaluateFunctionsWithNew) {\n                    element = new tag(__assign({}, attrs, { children: children }));\n                }\n                else {\n                    element = tag(__assign({}, attrs, { children: children }));\n                }\n            }\n            attrs = {};\n        }\n        if (onElementCreate) {\n            onElementCreate({ elementLike: element, elementClassInstance: elementClassInstance });\n        }\n        var _loop_1 = function (name_1) {\n            if (name_1 && attrs.hasOwnProperty(name_1)) {\n                var value_1 = attrs[name_1];\n                if (typeof value_1 === 'boolean') {\n                    if (value_1 === true) {\n                        element.setAttribute(name_1, name_1);\n                    }\n                }\n                else if (typeof value_1 === 'function') {\n                    if (!functionAttributes || functionAttributes === 'preserve') {\n                        element.setAttribute(name_1, value_1);\n                    }\n                    else {\n                        var code = functionAttributes === 'toString-this'\n                            ? \"_this = __this__ = this; (\" + value_1.toString() + \").apply(_this, arguments)\"\n                            : value_1.toString();\n                        var escaped = escapeAttributes ? escapeAttributes(code) : code;\n                        element.setAttribute(name_1, escaped);\n                    }\n                }\n                else if (value_1 !== false && value_1 != null) {\n                    if (name_1 === 'className') {\n                        if (typeof value_1 === 'string') {\n                            element.setAttribute('class', value_1);\n                        }\n                        else if (Array.isArray(value_1) && value_1.length && typeof value_1[0] === 'string') {\n                            element.setAttribute('class', value_1.join(' '));\n                        }\n                        else {\n                            debug(\"unrecognized className value \" + typeof value_1 + \" \" + value_1);\n                        }\n                    }\n                    else {\n                        element.setAttribute(name_1, value_1.toString());\n                    }\n                }\n                else if (typeof value_1 === 'object') {\n                    if (name_1 === 'style') {\n                        element.setAttribute('style', \"\" + Object.keys(value_1)\n                            .map(function (p) { return p + \": \" + value_1[p]; })\n                            .join('; '));\n                    }\n                    else if (name_1 === 'dangerouslySetInnerHTML' && value_1 && typeof value_1.__html === 'string') {\n                        element.dangerouslySetInnerHTML(value_1.__html);\n                    }\n                    else {\n                        debug(\"unrecognized object attribute \\\"\" + name_1 + \"\\\" - the only object attribute supported is \\\"style\\\"\");\n                    }\n                }\n                else {\n                    debug(\"unrecognized attribute \\\"\" + name_1 + \"\\\" with type \" + typeof value_1);\n                }\n            }\n        };\n        for (var name_1 in attrs) {\n            _loop_1(name_1);\n        }\n        if (typeof tag === 'string') {\n            // don't render children for function or classes since they are responsible of render their own children\n            children\n                .filter(function (c) { return c; })\n                .forEach(function (child) {\n                if (elementImpl_1.isNode(child)) {\n                    element.appendChild(child);\n                }\n                else if (Array.isArray(child)) {\n                    child.forEach(function (c) {\n                        if (typeof c === 'string') {\n                            element.appendChild(new textNodeImpl(c));\n                        }\n                        else if (elementImpl_1.isNode(c)) {\n                            element.appendChild(c);\n                        }\n                        else {\n                            debug(\"Child is not a node or string: \" + c + \" , tag: \" + tag);\n                        }\n                    });\n                }\n                else {\n                    element.appendChild(new textNodeImpl(child));\n                }\n            });\n        }\n        if (onElementReady) {\n            onElementReady({ elementLike: element });\n        }\n        return element;\n    };\n    return createElement;\n}\nexports.createCreateElement = createCreateElement;\nexports.AbstractJSXAlone = null;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// import { AbstractJSXAlone as  } from './createElement';\nvar _1 = require(\".\");\n// export type Props = { children: Children }\n// TODO: like React.Fragment\nexports.Fragment = function (props) { return _1.AbstractJSXAlone.createElement(\"span\", null, props.children); };\nfunction Js(props) {\n    var r = props.children();\n    console.log(r);\n    return r ? _1.AbstractJSXAlone.createElement(exports.Fragment, null, r) : null;\n}\nexports.Js = Js;\n/** if as statement. children need to be in a function and the function accepts a parameter which value is given condition `c` but casted to NotFalsy<C> so there's no need of type guards in the body. Example:\n```\n<If c={type}>{type =>\n  <select multiple={true}>{names[type].map(c =>\n      <option value={c.id}>{c.label}</option>)}\n  </select>\n</If>\n```\n\nNo error thrown on second line because parameter type is not falsy but keep the original type (excluding falsy values)\n\nOther example:\n\n```\nexport class ErrorComponent extends React.Component<ErrorOptions> {\n  public render() {\n    return <div>\n      <If c={this.props.error}>{error =>\n        <React.Fragment>\n          <h2>Error</h2>\n          <If c={typeof error === 'string'}>{e =>\n            <h3>{e}</h3>}\n          </If>\n          <If c={typeof error === 'object'}>{e =>\n            <React.Fragment>\n              <h5>{error!.name}</h5>\n              <p>{error!.message}</p>\n              <If c={error.stack}>{e =>\n                <ul>\n                  {e.split('\\n').map(e =>\n                    <li>{e}</li>)}\n                </ul>}\n              </If>\n            </React.Fragment>}\n          </If>\n          <If c={this.props.responseText}>{responseText =>\n            <iframe css={{ border: 0, width: '100%', height: '400px' }} srcDoc={responseText}>\n            </iframe>}\n          </If>\n        </React.Fragment>}\n      </If>\n    </div>\n  }\n}\n\n```\n*/\nfunction If(props) {\n    //TODO: issue in dom implementation, children is an array \n    var f = Array.isArray(props.children) ? props.children[0] : props.children;\n    var c = props.c, p = props.p;\n    if (isNotFalsy(c))\n        return f.apply(null, (p ? [p] : []).concat([c]));\n    else {\n        return null;\n    }\n}\nexports.If = If;\nfunction isNotFalsy(a) { return !!a; }\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction checkThrow(r, msg) {\n    if (msg === void 0) { msg = 'Throwing on undefined value'; }\n    if (!r) {\n        throw new Error(msg);\n    }\n    return r;\n}\nexports.checkThrow = checkThrow;\n// export function tryTo<F extends (...args: any[]) => any>(f: F): ReturnType<F> | undefined {\n//   try {\n//     return f()\n//   } catch (error) {\n//   }\n// }\nfunction array(n, sample) {\n    var a = [];\n    for (var i = 0; i < n; i++) {\n        a.push(typeof sample === 'undefined' ? i : sample);\n    }\n    return a;\n}\nexports.array = array;\nfunction repeat(n, s) {\n    return array(n, s).join('');\n}\nexports.repeat = repeat;\nfunction indent(i, tabSize) {\n    if (i === void 0) { i = 1; }\n    if (tabSize === void 0) { tabSize = 2; }\n    return repeat(i * tabSize, ' ');\n}\nexports.indent = indent;\nfunction getPosition(string, subString, index) {\n    return string.split(subString, index).join(subString).length;\n}\nexports.getPosition = getPosition;\nfunction removeWhites(s, replaceWith) {\n    if (replaceWith === void 0) { replaceWith = ' '; }\n    return s.replace(/\\s+/gm, replaceWith).trim();\n}\nexports.removeWhites = removeWhites;\nfunction randomIntBetween(a, b) {\n    return Math.floor(Math.random() * b) + a;\n}\nexports.randomIntBetween = randomIntBetween;\nfunction randomItem(array) {\n    return array[randomIntBetween(0, array.length)];\n}\nexports.randomItem = randomItem;\nfunction printMs(ms, config) {\n    if (config === void 0) { config = { minutes: false, seconds: true, ms: true }; }\n    config = __assign({ minutes: false, seconds: true, ms: true }, config);\n    var seconds = config.seconds && Math.floor(ms / 1000);\n    var minutes = config.minutes && seconds && Math.floor(seconds / 60);\n    var milliseconds = config.ms && Math.floor(ms % 1000 || ms);\n    return \"\" + (minutes ? minutes + \" minutes \" : '') + (seconds ? seconds + \" seconds \" : '') + (milliseconds ? milliseconds + \" ms \" : '');\n}\nexports.printMs = printMs;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./elementImpl\"));\n__export(require(\"./elementClass\"));\n__export(require(\"./createElement\"));\nvar elementImpl_1 = require(\"./elementImpl\");\nexports.AbstractTextNodeLike = elementImpl_1.AbstractTextNodeLike;\nexports.AbstractElementLike = elementImpl_1.AbstractElementLike;\n__export(require(\"./misc\"));\n__export(require(\"./util\"));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isJSXAloneComponent(c) {\n    return c.prototype && c.prototype.render;\n}\nexports.isJSXAloneComponent = isJSXAloneComponent;\nfunction isNode(n) {\n    return isTextNodeLike(n) || isElementLike(n);\n}\nexports.isNode = isNode;\nfunction isElementLike(n) {\n    return n && n.setAttribute;\n}\nexports.isElementLike = isElementLike;\nfunction isTextNodeLike(n) {\n    return n && n.content && !isElementLike(n);\n}\nexports.isTextNodeLike = isTextNodeLike;\nvar AbstractTextNodeLike = /** @class */ (function () {\n    function AbstractTextNodeLike(content) {\n        this.content = content;\n    }\n    return AbstractTextNodeLike;\n}());\nexports.AbstractTextNodeLike = AbstractTextNodeLike;\nvar AbstractElementLike = /** @class */ (function () {\n    function AbstractElementLike(tag) {\n        this.tag = tag;\n        this.attrs = {};\n        this.children = [];\n    }\n    AbstractElementLike.prototype.setAttribute = function (name, value) {\n        this.attrs[name] = value;\n    };\n    AbstractElementLike.prototype.appendChild = function (c) {\n        this.children.push(c);\n        if (isElementLike(c)) {\n            c.parentElement = this;\n        }\n    };\n    return AbstractElementLike;\n}());\nexports.AbstractElementLike = AbstractElementLike;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar elementImpl_1 = require(\"./elementImpl\");\n/**\n * A Class able to render() JSX. Similar to React.Component but only supporting properties, without state, context, ref, did/will methods, etc.\n */\nvar ElementClass = /** @class */ (function () {\n    function ElementClass(props) {\n        this.props = props;\n    }\n    ElementClass.prototype.childrenAsArray = function () {\n        return (Array.isArray(this.props.children) ? this.props.children : [this.props.children]);\n    };\n    ElementClass.prototype.childrenElementsAsArray = function () {\n        return this.childrenAsArray().filter(function (c) { return elementImpl_1.isElementLike(c); });\n    };\n    ElementClass.prototype.firstChildElement = function () {\n        return this.childrenAsArray().find(function (e) { return true; });\n    };\n    return ElementClass;\n}());\nexports.ElementClass = ElementClass;\nvar AbstractElementClass = /** @class */ (function (_super) {\n    __extends(AbstractElementClass, _super);\n    function AbstractElementClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return AbstractElementClass;\n}(ElementClass));\nexports.AbstractElementClass = AbstractElementClass;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar elementImpl_1 = require(\"./elementImpl\");\nvar throwOnUnrecognized = false;\nfunction debug(err) {\n    if (throwOnUnrecognized) {\n        throw err;\n    }\n    else {\n        console.error(err);\n    }\n}\nexports.debug = debug;\nfunction createCreateElement(config) {\n    var impl = config.impl, textNodeImpl = config.textNodeImpl, escapeAttributes = config.escapeAttributes, functionAttributes = config.functionAttributes, onElementReady = config.onElementReady, onElementCreate = config.onElementCreated;\n    var createElement = function (tag, attrs) {\n        if (attrs === void 0) { attrs = {}; }\n        var children = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            children[_i - 2] = arguments[_i];\n        }\n        var element;\n        var elementClassInstance;\n        if (typeof tag === 'string') {\n            element = new impl(tag);\n        }\n        else {\n            if (elementImpl_1.isJSXAloneComponent(tag)) {\n                elementClassInstance = new tag(__assign({}, attrs, { children: children }));\n                element = elementClassInstance.render();\n            }\n            else {\n                if (typeof tag.prototype !== undefined && config.evaluateFunctionsWithNew) {\n                    element = new tag(__assign({}, attrs, { children: children }));\n                }\n                else {\n                    element = tag(__assign({}, attrs, { children: children }));\n                }\n            }\n            attrs = {};\n        }\n        if (onElementCreate) {\n            onElementCreate({ elementLike: element, elementClassInstance: elementClassInstance });\n        }\n        var _loop_1 = function (name_1) {\n            if (name_1 && attrs.hasOwnProperty(name_1)) {\n                var value_1 = attrs[name_1];\n                if (typeof value_1 === 'boolean') {\n                    if (value_1 === true) {\n                        element.setAttribute(name_1, name_1);\n                    }\n                }\n                else if (typeof value_1 === 'function') {\n                    if (!functionAttributes || functionAttributes === 'preserve') {\n                        element.setAttribute(name_1, value_1);\n                    }\n                    else {\n                        var code = functionAttributes === 'toString-this'\n                            ? \"_this = __this__ = this; (\" + value_1.toString() + \").apply(_this, arguments)\"\n                            : value_1.toString();\n                        var escaped = escapeAttributes ? escapeAttributes(code) : code;\n                        element.setAttribute(name_1, escaped);\n                    }\n                }\n                else if (value_1 !== false && value_1 != null) {\n                    if (name_1 === 'className') {\n                        if (typeof value_1 === 'string') {\n                            element.setAttribute('class', value_1);\n                        }\n                        else if (Array.isArray(value_1) && value_1.length && typeof value_1[0] === 'string') {\n                            element.setAttribute('class', value_1.join(' '));\n                        }\n                        else {\n                            debug(\"unrecognized className value \" + typeof value_1 + \" \" + value_1);\n                        }\n                    }\n                    else {\n                        element.setAttribute(name_1, value_1.toString());\n                    }\n                }\n                else if (typeof value_1 === 'object') {\n                    if (name_1 === 'style') {\n                        element.setAttribute('style', \"\" + Object.keys(value_1)\n                            .map(function (p) { return p + \": \" + value_1[p]; })\n                            .join('; '));\n                    }\n                    else if (name_1 === 'dangerouslySetInnerHTML' && value_1 && typeof value_1.__html === 'string') {\n                        element.dangerouslySetInnerHTML(value_1.__html);\n                    }\n                    else {\n                        debug(\"unrecognized object attribute \\\"\" + name_1 + \"\\\" - the only object attribute supported is \\\"style\\\"\");\n                    }\n                }\n                else {\n                    debug(\"unrecognized attribute \\\"\" + name_1 + \"\\\" with type \" + typeof value_1);\n                }\n            }\n        };\n        for (var name_1 in attrs) {\n            _loop_1(name_1);\n        }\n        if (typeof tag === 'string') {\n            // don't render children for function or classes since they are responsible of render their own children\n            children\n                .filter(function (c) { return c; })\n                .forEach(function (child) {\n                if (elementImpl_1.isNode(child)) {\n                    element.appendChild(child);\n                }\n                else if (Array.isArray(child)) {\n                    child.forEach(function (c) {\n                        if (typeof c === 'string') {\n                            element.appendChild(new textNodeImpl(c));\n                        }\n                        else if (elementImpl_1.isNode(c)) {\n                            element.appendChild(c);\n                        }\n                        else {\n                            debug(\"Child is not a node or string: \" + c + \" , tag: \" + tag);\n                        }\n                    });\n                }\n                else {\n                    element.appendChild(new textNodeImpl(child));\n                }\n            });\n        }\n        if (onElementReady) {\n            onElementReady({ elementLike: element });\n        }\n        return element;\n    };\n    return createElement;\n}\nexports.createCreateElement = createCreateElement;\nexports.AbstractJSXAlone = null;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// import { AbstractJSXAlone as  } from './createElement';\nvar _1 = require(\".\");\n// export type Props = { children: Children }\n// TODO: like React.Fragment\nexports.Fragment = function (props) { return _1.AbstractJSXAlone.createElement(\"span\", null, props.children); };\nfunction Js(props) {\n    var r = props.children();\n    console.log(r);\n    return r ? _1.AbstractJSXAlone.createElement(exports.Fragment, null, r) : null;\n}\nexports.Js = Js;\n/** if as statement. children need to be in a function and the function accepts a parameter which value is given condition `c` but casted to NotFalsy<C> so there's no need of type guards in the body. Example:\n```\n<If c={type}>{type =>\n  <select multiple={true}>{names[type].map(c =>\n      <option value={c.id}>{c.label}</option>)}\n  </select>\n</If>\n```\n\nNo error thrown on second line because parameter type is not falsy but keep the original type (excluding falsy values)\n\nOther example:\n\n```\nexport class ErrorComponent extends React.Component<ErrorOptions> {\n  public render() {\n    return <div>\n      <If c={this.props.error}>{error =>\n        <React.Fragment>\n          <h2>Error</h2>\n          <If c={typeof error === 'string'}>{e =>\n            <h3>{e}</h3>}\n          </If>\n          <If c={typeof error === 'object'}>{e =>\n            <React.Fragment>\n              <h5>{error!.name}</h5>\n              <p>{error!.message}</p>\n              <If c={error.stack}>{e =>\n                <ul>\n                  {e.split('\\n').map(e =>\n                    <li>{e}</li>)}\n                </ul>}\n              </If>\n            </React.Fragment>}\n          </If>\n          <If c={this.props.responseText}>{responseText =>\n            <iframe css={{ border: 0, width: '100%', height: '400px' }} srcDoc={responseText}>\n            </iframe>}\n          </If>\n        </React.Fragment>}\n      </If>\n    </div>\n  }\n}\n\n```\n*/\nfunction If(props) {\n    //TODO: issue in dom implementation, children is an array \n    var f = Array.isArray(props.children) ? props.children[0] : props.children;\n    var c = props.c, p = props.p;\n    if (isNotFalsy(c))\n        return f.apply(null, (p ? [p] : []).concat([c]));\n    else {\n        return null;\n    }\n}\nexports.If = If;\nfunction isNotFalsy(a) { return !!a; }\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction checkThrow(r, msg) {\n    if (msg === void 0) { msg = 'Throwing on undefined value'; }\n    if (!r) {\n        throw new Error(msg);\n    }\n    return r;\n}\nexports.checkThrow = checkThrow;\n// export function tryTo<F extends (...args: any[]) => any>(f: F): ReturnType<F> | undefined {\n//   try {\n//     return f()\n//   } catch (error) {\n//   }\n// }\nfunction array(n, sample) {\n    var a = [];\n    for (var i = 0; i < n; i++) {\n        a.push(typeof sample === 'undefined' ? i : sample);\n    }\n    return a;\n}\nexports.array = array;\nfunction repeat(n, s) {\n    return array(n, s).join('');\n}\nexports.repeat = repeat;\nfunction indent(i, tabSize) {\n    if (i === void 0) { i = 1; }\n    if (tabSize === void 0) { tabSize = 2; }\n    return repeat(i * tabSize, ' ');\n}\nexports.indent = indent;\nfunction getPosition(string, subString, index) {\n    return string.split(subString, index).join(subString).length;\n}\nexports.getPosition = getPosition;\nfunction removeWhites(s, replaceWith) {\n    if (replaceWith === void 0) { replaceWith = ' '; }\n    return s.replace(/\\s+/gm, replaceWith).trim();\n}\nexports.removeWhites = removeWhites;\nfunction randomIntBetween(a, b) {\n    return Math.floor(Math.random() * b) + a;\n}\nexports.randomIntBetween = randomIntBetween;\nfunction randomItem(array) {\n    return array[randomIntBetween(0, array.length)];\n}\nexports.randomItem = randomItem;\nfunction printMs(ms, config) {\n    if (config === void 0) { config = { minutes: false, seconds: true, ms: true }; }\n    config = __assign({ minutes: false, seconds: true, ms: true }, config);\n    var seconds = config.seconds && Math.floor(ms / 1000);\n    var minutes = config.minutes && seconds && Math.floor(seconds / 60);\n    var milliseconds = config.ms && Math.floor(ms % 1000 || ms);\n    return \"\" + (minutes ? minutes + \" minutes \" : '') + (seconds ? seconds + \" seconds \" : '') + (milliseconds ? milliseconds + \" ms \" : '');\n}\nexports.printMs = printMs;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./elementImpl\"));\n__export(require(\"./elementClass\"));\n__export(require(\"./createElement\"));\nvar elementImpl_1 = require(\"./elementImpl\");\nexports.AbstractTextNodeLike = elementImpl_1.AbstractTextNodeLike;\nexports.AbstractElementLike = elementImpl_1.AbstractElementLike;\n__export(require(\"./misc\"));\n__export(require(\"./util\"));\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_core_1 = require(\"jsx-alone-core\");\nvar ElementLikeImpl = /** @class */ (function (_super) {\n    __extends(ElementLikeImpl, _super);\n    function ElementLikeImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ElementLikeImpl.prototype.render = function (config) {\n        var _this = this;\n        if (config === void 0) { config = {}; }\n        var el = document.createElement(this.tag);\n        Object.keys(this.attrs).forEach(function (attribute) {\n            var value = _this.attrs[attribute];\n            if (!config.handleAttribute || !config.handleAttribute({ config: config, el: el, attribute: attribute, value: value, elementLike: _this })) {\n                if (typeof value === 'function') {\n                    el.setAttribute(attribute, value.toString());\n                }\n                else {\n                    el.setAttribute(attribute, value + '');\n                }\n            }\n        });\n        if (this._innerHtml) {\n            el.innerHTML = this._innerHtml;\n        }\n        this.children.forEach(function (c) {\n            if (!config.handleChildRender || !config.handleChildRender({ config: config, parent: el, child: c, elementLike: _this })) {\n                c.render(__assign({}, config, { parent: el }));\n            }\n        });\n        if (config.parent) {\n            config.parent.appendChild(el);\n        }\n        if (config.handleAfterRender) {\n            config.handleAfterRender({ config: config, el: el, elementLike: this });\n        }\n        return el;\n    };\n    ElementLikeImpl.prototype.dangerouslySetInnerHTML = function (s) {\n        this._innerHtml = s;\n    };\n    return ElementLikeImpl;\n}(jsx_alone_core_1.AbstractElementLike));\nexports.ElementLikeImpl = ElementLikeImpl;\nvar TextNodeLikeImpl = /** @class */ (function (_super) {\n    __extends(TextNodeLikeImpl, _super);\n    function TextNodeLikeImpl() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextNodeLikeImpl.prototype.render = function (config) {\n        if (config === void 0) { config = {}; }\n        var text = document.createTextNode(this.content);\n        if (config.parent) {\n            config.parent.appendChild(text);\n        }\n        return text;\n    };\n    return TextNodeLikeImpl;\n}(jsx_alone_core_1.AbstractTextNodeLike));\nexports.TextNodeLikeImpl = TextNodeLikeImpl;\nvar ElementClass = /** @class */ (function (_super) {\n    __extends(ElementClass, _super);\n    function ElementClass() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /** element classes in DOM implementation will be given its container element. The default implementation just ignore this to keep it lightweight, but other implementations could overwrite this method */\n    ElementClass.prototype.setContainerEl = function (el) { };\n    return ElementClass;\n}(jsx_alone_core_1.ElementClass));\nexports.ElementClass = ElementClass;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_core_1 = require(\"jsx-alone-core\");\nvar elementImpl_1 = require(\"./elementImpl\");\nexports.createCreateElementConfig = {\n    impl: elementImpl_1.ElementLikeImpl,\n    textNodeImpl: elementImpl_1.TextNodeLikeImpl,\n    functionAttributes: 'preserve'\n};\nvar Module = {\n    createElement: jsx_alone_core_1.createCreateElement(exports.createCreateElementConfig),\n    render: function (el, config) {\n        if (config === void 0) { config = {}; }\n        var elementLike = el;\n        return elementLike.render({ config: config });\n    }\n};\nexports.JSXAlone = Module;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./createElement\"));\n__export(require(\"./elementImpl\"));\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar jsx_alone_core_1 = require(\"jsx-alone-core\");\nvar jsx_alone_dom_1 = require(\"jsx-alone-dom\");\nexports.ElementClass = jsx_alone_dom_1.ElementClass;\nvar warn1Once = false;\nfunction buildExtraConfig(rootElementLike, extraConfig) {\n    var configHooks = {\n        handleAttribute: function (_a) {\n            var value = _a.value, el = _a.el, attribute = _a.attribute, elementLike = _a.elementLike;\n            if (typeof value === 'function' && !extraConfig.dontAddEventListeners) {\n                if (!warn1Once && typeof value.prototype !== 'undefined') {\n                    console.warn('Warning, function attributes in a function are partially supported, `this` won\\'t be available.\\n Better use an arrow function!');\n                    warn1Once = true; // do this better with a helper\n                }\n                var functionAttributeContext = getFunctionAttributeContextObjects(elementLike, extraConfig.initialContext).functionAttributeContext;\n                var listener = functionAttributeContext ? value.bind(functionAttributeContext) : value;\n                var eventType = attribute.substring(2, attribute.length).toLowerCase();\n                var options = undefined;\n                el.addEventListener(eventType, listener, options);\n                // if(!elementLike._eventListenerList){\n                //   elementLike._eventListenerList = []\n                //   // elementLike._destr\n                // }\n                // elementLike._eventListenerList.push({type: eventType, listener,options})\n                // if(!elementLike.){\n                // elementLike._eventListenerList = []\n                // }\n                elementLike.attrs[attribute] = undefined; // forget the reference\n                return true;\n            }\n            return false;\n        },\n        handleChildRender: function (config) {\n            var child = config.child, parent = config.parent, elementLike = config.elementLike;\n            var _a = getFunctionAttributeContextObjects(elementLike, extraConfig.initialContext), functionAttributeContext = _a.functionAttributeContext, elementClassInstance = _a.elementClassInstance;\n            if (functionAttributeContext && isFunctionAttributeElement(child)) {\n                child._originalElementClassInstance = child._elementClassInstance;\n                child._elementClassInstance = elementClassInstance || child._elementClassInstance;\n            }\n            child.render(__assign({}, config, configHooks, { parent: parent }));\n            return true;\n        },\n        handleAfterRender: function (_a) {\n            var el = _a.el, elementLike = _a.elementLike;\n            var elementClassWithContainer = elementLike._originalElementClassInstance || elementLike._elementClassInstance || rootElementLike._elementClassInstance;\n            if (elementClassWithContainer && elementClassWithContainer.setContainerEl) {\n                elementClassWithContainer.setContainerEl(el);\n            }\n            elementLike._elementClassInstance = undefined; // forget the reference\n            elementLike._originalElementClassInstance = undefined; // forget the reference\n            return true;\n        }\n    };\n    return configHooks;\n    function getFunctionAttributeContextObjects(elementLike, initialContext) {\n        var elementClassInstance = (elementLike.parentElement && elementLike._elementClassInstance) || rootElementLike._elementClassInstance;\n        return { functionAttributeContext: elementClassInstance || initialContext, elementClassInstance: elementClassInstance };\n    }\n}\nexports.createCreateConfig = __assign({}, jsx_alone_dom_1.createCreateElementConfig, { \n    // impl: FunctionAttributesElementImpl,\n    impl: jsx_alone_dom_1.ElementLikeImpl, textNodeImpl: jsx_alone_dom_1.TextNodeLikeImpl, functionAttributes: 'preserve', evaluateFunctionsWithNew: true, onElementCreated: function (_a) {\n        var elementLike = _a.elementLike, elementClassInstance = _a.elementClassInstance;\n        if (elementClassInstance) {\n            elementLike._elementClassInstance = elementClassInstance;\n        }\n    } });\nvar Module = {\n    createElement: jsx_alone_core_1.createCreateElement(exports.createCreateConfig),\n    render: function (el, config) {\n        if (config === void 0) { config = {}; }\n        var elementLike = el;\n        return elementLike.render(__assign({}, config, buildExtraConfig(elementLike, { initialContext: config.initialContext || this })));\n    }\n};\nexports.JSXAlone = Module;\nfunction isFunctionAttributeElement(a) {\n    return jsx_alone_core_1.isElementLike(a);\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\"./\");\nvar StatefulComponent = /** @class */ (function (_super) {\n    __extends(StatefulComponent, _super);\n    function StatefulComponent(p) {\n        var _this = _super.call(this, p) || this;\n        _this.state = {};\n        _this.containerEl = undefined;\n        _this.state = {};\n        return _this;\n    }\n    /** called by ElementLike.render() */\n    StatefulComponent.prototype.setContainerEl = function (el) {\n        this.containerEl = el;\n    };\n    /** changes the state, clean up containerEl and renders the element again and append it to containerEl.\n     * Notice that descendant elements will be destroyed and */\n    StatefulComponent.prototype.setState = function (s) {\n        //@ts-ignore\n        this.state = __assign({}, this.state, s);\n    };\n    return StatefulComponent;\n}(_1.ElementClass));\nexports.StatefulComponent = StatefulComponent;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _1 = require(\".\");\nvar StatefulComponent_1 = require(\"./StatefulComponent\");\n/** implement stateful -ness by re-rendering it self agin and agin when the stat changes. Preserves focus.\n * TODO: parent re-render actually resets the children (ISSUE)\n */\nvar ReRenderComponent = /** @class */ (function (_super) {\n    __extends(ReRenderComponent, _super);\n    function ReRenderComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /** changes the state, clean up containerEl and renders the element again and append it to containerEl.\n     * Notice that descendant elements will be destroyed and */\n    ReRenderComponent.prototype.setState = function (s) {\n        _super.prototype.setState.call(this, s);\n        var activePath;\n        var selection = { start: 0, end: 0 };\n        if (document.activeElement) {\n            activePath = getXPathOfElement(document.activeElement);\n            selection = {\n                start: document.activeElement.selectionStart || 0,\n                end: document.activeElement.selectionEnd || 0,\n                direction: document.activeElement.selectionDirection || undefined\n            };\n        }\n        var jsx = this.render();\n        var el = _1.JSXAlone.render(jsx, { initialContext: this });\n        this.containerEl.parentElement.replaceChild(el, this.containerEl);\n        this.containerEl = el;\n        if (activePath) {\n            var activeEl = getElementByXPath(activePath + '');\n            if (activeEl && selection) {\n                activeEl.focus();\n                if (activeEl.setSelectionRange) {\n                    activeEl.setSelectionRange(selection.start, selection.end, selection.direction);\n                }\n            }\n        }\n    };\n    return ReRenderComponent;\n}(StatefulComponent_1.StatefulComponent));\nexports.ReRenderComponent = ReRenderComponent;\n//  TODO: move to misc\nfunction getXPathOfElement(el) {\n    if (typeof el == 'string') {\n        return document.evaluate(el, document, null, 0, null) + '';\n    }\n    if (!el || el.nodeType != 1) {\n        return '';\n    }\n    if (el.id)\n        return \"//*[@id='\" + el.id + \"']\";\n    if (el.parentNode) {\n        var sames = Array.from(el.parentNode.children).filter(function (x) { return x.tagName == el.tagName; });\n        return (getXPathOfElement(el.parentNode) +\n            '/' +\n            (el.tagName || '').toLowerCase() +\n            (sames.length > 1 ? '[' + (sames.indexOf(el) + 1) + ']' : ''));\n    }\n    else {\n        return undefined;\n    }\n}\n//  TODO: move to misc\nfunction getElementByXPath(path, predicate) {\n    var p = document.evaluate(path, document, null, 0, null);\n    if (!predicate) {\n        return p.iterateNext();\n    }\n    try {\n        var n = void 0;\n        var n2 = void 0;\n        while ((n = p.iterateNext()) && !predicate(n)) {\n            n2 = n;\n        }\n        return n2;\n    }\n    catch (e) {\n        alert('Error: Document tree modified during iteration ' + e);\n    }\n}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./createElement\"));\n__export(require(\"./StatefulComponent\"));\n__export(require(\"./ReRenderComponent\"));\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar __1 = require(\"..\");\nfunction statefulElementClassTestRenderApp() {\n    var parent = document.createElement('div');\n    document.body.appendChild(parent);\n    var el = __1.JSXAlone.render(__1.JSXAlone.createElement(App, { people: [{ name: 'seba' }, { name: 'lau' }] }), { parent: parent, initialContext: this });\n    parent.appendChild(el);\n    return parent;\n}\nexports.statefulElementClassTestRenderApp = statefulElementClassTestRenderApp;\nvar Repeater = /** @class */ (function (_super) {\n    __extends(Repeater, _super);\n    function Repeater() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // constructor(p: RepeaterP) {\n    //   super(p)\n    //   this.state = { ...p }\n    // }\n    Repeater.prototype.render = function () {\n        var _this = this;\n        return (__1.JSXAlone.createElement(\"div\", { className: \"Repeater\" },\n            \"Write something:\",\n            __1.JSXAlone.createElement(\"input\", { value: this.state.value, onKeyUp: function (e) {\n                    _this.setState({ value: e.currentTarget.value });\n                } }),\n            __1.JSXAlone.createElement(\"br\", null),\n            \"Will be repeated: \",\n            __1.JSXAlone.createElement(\"span\", null, this.state.value),\n            ' '));\n    };\n    return Repeater;\n}(__1.StatefulElementClass));\nvar App = /** @class */ (function (_super) {\n    __extends(App, _super);\n    function App() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // constructor(p: P) {\n    //   super(p)\n    //   this.state = { ...p }\n    // }\n    App.prototype.render = function () {\n        var _this = this;\n        return (__1.JSXAlone.createElement(\"div\", { className: \"App\" },\n            __1.JSXAlone.createElement(\"button\", { id: \"add\", onClick: function (e) { return _this.setState({ people: _this.state.people.concat([{ name: 'random name ' + Math.random() }]) }); } }, \"add\"),\n            __1.JSXAlone.createElement(\"ul\", null, this.state.people.map(function (p) { return (__1.JSXAlone.createElement(\"li\", { \"data-id\": p.name },\n                __1.JSXAlone.createElement(Repeater, { value: p.name }),\n                __1.JSXAlone.createElement(\"button\", { className: \"remove\", onClick: function (e) {\n                        _this.setState({ people: _this.state.people.filter(function (p2) { return p2.name !== p.name; }) });\n                    } }, \"remove\"))); }))));\n    };\n    return App;\n}(__1.StatefulElementClass));\n// dummySpec()\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar statefulElementClassTestRenderApp_1 = require(\"./statefulElementClassTestRenderApp\");\nstatefulElementClassTestRenderApp_1.statefulElementClassTestRenderApp();\n// dummySpec()\n"]}