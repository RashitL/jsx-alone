{"version":3,"sources":["../node_modules/monaco-editor/esm/vs/language/css/workerManager.js","../node_modules/monaco-editor/esm/vs/language/css/languageFeatures.js","../node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","_defaults","_worker","_idleCheckInterval","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","Date","now","_getClient","monaco","editor","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","Uri","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","modeId","handle","getModeId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","doValidation","diagnostics","markers","map","toDiagnostics","getModel","undefined","err","console","error","toSeverity","lsSeverity","ls","DiagnosticSeverity","Error","MarkerSeverity","Warning","Information","Info","Hint","diag","code","String","severity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","fromPosition","position","column","lineNumber","fromRange","toRange","Range","toCompletionItemKind","kind","mItemKind","languages","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","toTextEdit","textEdit","text","newText","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","context","token","getWordUntilPosition","wordInfo","doComplete","info","items","entry","item","insertText","sortText","filterText","documentation","detail","additionalTextEdits","insertTextFormat","InsertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","isIncomplete","suggestions","isMarkupContent","thing","toMarkdownString","value","replace","language","toMarkedStringArray","contents","Array","isArray","HoverAdapter","provideHover","doHover","toDocumentHighlightKind","DocumentHighlightKind","Read","Write","DocumentHighlightAdapter","provideDocumentHighlights","findDocumentHighlights","entries","toLocation","location","parse","DefinitionAdapter","provideDefinition","findDefinition","definition","ReferenceAdapter","provideReferences","findReferences","toWorkspaceEdit","edit","changes","resourceEdits","edits","_a","e","RenameAdapter","provideRenameEdits","newName","doRename","toSymbolKind","mKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","selectionRange","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","ranges","result","startLine","endLine","toFoldingRangeKind","FoldingRangeKind","Comment","Imports","Region","setupMode","first","more","apply","concat","registerCompletionItemProvider","languageFeatures","registerHoverProvider","registerDocumentHighlightProvider","registerDefinitionProvider","registerReferenceProvider","registerDocumentSymbolProvider","registerRenameProvider","registerColorProvider","registerFoldingRangeProvider"],"mappings":"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","file":"cssMode.1424164a.map","sourceRoot":"../../jsx-explorer/src","sourcesContent":["/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\r\nvar WorkerManager = /** @class */ (function () {\r\n    function WorkerManager(defaults) {\r\n        var _this = this;\r\n        this._defaults = defaults;\r\n        this._worker = null;\r\n        this._idleCheckInterval = setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\r\n        this._lastUsedTime = 0;\r\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\r\n    }\r\n    WorkerManager.prototype._stopWorker = function () {\r\n        if (this._worker) {\r\n            this._worker.dispose();\r\n            this._worker = null;\r\n        }\r\n        this._client = null;\r\n    };\r\n    WorkerManager.prototype.dispose = function () {\r\n        clearInterval(this._idleCheckInterval);\r\n        this._configChangeListener.dispose();\r\n        this._stopWorker();\r\n    };\r\n    WorkerManager.prototype._checkIfIdle = function () {\r\n        if (!this._worker) {\r\n            return;\r\n        }\r\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\r\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\r\n            this._stopWorker();\r\n        }\r\n    };\r\n    WorkerManager.prototype._getClient = function () {\r\n        this._lastUsedTime = Date.now();\r\n        if (!this._client) {\r\n            this._worker = monaco.editor.createWebWorker({\r\n                // module that exports the create() method and returns a `CSSWorker` instance\r\n                moduleId: 'vs/language/css/cssWorker',\r\n                label: this._defaults.languageId,\r\n                // passed in to the create() method\r\n                createData: {\r\n                    languageSettings: this._defaults.diagnosticsOptions,\r\n                    languageId: this._defaults.languageId\r\n                }\r\n            });\r\n            this._client = this._worker.getProxy();\r\n        }\r\n        return this._client;\r\n    };\r\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\r\n        var _this = this;\r\n        var resources = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            resources[_i] = arguments[_i];\r\n        }\r\n        var _client;\r\n        return this._getClient().then(function (client) {\r\n            _client = client;\r\n        }).then(function (_) {\r\n            return _this._worker.withSyncedResources(resources);\r\n        }).then(function (_) { return _client; });\r\n    };\r\n    return WorkerManager;\r\n}());\r\nexport { WorkerManager };\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport * as ls from './_deps/vscode-languageserver-types/main.js';\r\nvar Uri = monaco.Uri;\r\n// --- diagnostics --- ---\r\nvar DiagnosticsAdapter = /** @class */ (function () {\r\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\r\n        var _this = this;\r\n        this._languageId = _languageId;\r\n        this._worker = _worker;\r\n        this._disposables = [];\r\n        this._listener = Object.create(null);\r\n        var onModelAdd = function (model) {\r\n            var modeId = model.getModeId();\r\n            if (modeId !== _this._languageId) {\r\n                return;\r\n            }\r\n            var handle;\r\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\r\n                clearTimeout(handle);\r\n                handle = setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\r\n            });\r\n            _this._doValidate(model.uri, modeId);\r\n        };\r\n        var onModelRemoved = function (model) {\r\n            monaco.editor.setModelMarkers(model, _this._languageId, []);\r\n            var uriStr = model.uri.toString();\r\n            var listener = _this._listener[uriStr];\r\n            if (listener) {\r\n                listener.dispose();\r\n                delete _this._listener[uriStr];\r\n            }\r\n        };\r\n        this._disposables.push(monaco.editor.onDidCreateModel(onModelAdd));\r\n        this._disposables.push(monaco.editor.onWillDisposeModel(onModelRemoved));\r\n        this._disposables.push(monaco.editor.onDidChangeModelLanguage(function (event) {\r\n            onModelRemoved(event.model);\r\n            onModelAdd(event.model);\r\n        }));\r\n        defaults.onDidChange(function (_) {\r\n            monaco.editor.getModels().forEach(function (model) {\r\n                if (model.getModeId() === _this._languageId) {\r\n                    onModelRemoved(model);\r\n                    onModelAdd(model);\r\n                }\r\n            });\r\n        });\r\n        this._disposables.push({\r\n            dispose: function () {\r\n                for (var key in _this._listener) {\r\n                    _this._listener[key].dispose();\r\n                }\r\n            }\r\n        });\r\n        monaco.editor.getModels().forEach(onModelAdd);\r\n    }\r\n    DiagnosticsAdapter.prototype.dispose = function () {\r\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\r\n        this._disposables = [];\r\n    };\r\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\r\n        this._worker(resource).then(function (worker) {\r\n            return worker.doValidation(resource.toString());\r\n        }).then(function (diagnostics) {\r\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\r\n            var model = monaco.editor.getModel(resource);\r\n            if (model.getModeId() === languageId) {\r\n                monaco.editor.setModelMarkers(model, languageId, markers);\r\n            }\r\n        }).then(undefined, function (err) {\r\n            console.error(err);\r\n        });\r\n    };\r\n    return DiagnosticsAdapter;\r\n}());\r\nexport { DiagnosticsAdapter };\r\nfunction toSeverity(lsSeverity) {\r\n    switch (lsSeverity) {\r\n        case ls.DiagnosticSeverity.Error: return monaco.MarkerSeverity.Error;\r\n        case ls.DiagnosticSeverity.Warning: return monaco.MarkerSeverity.Warning;\r\n        case ls.DiagnosticSeverity.Information: return monaco.MarkerSeverity.Info;\r\n        case ls.DiagnosticSeverity.Hint: return monaco.MarkerSeverity.Hint;\r\n        default:\r\n            return monaco.MarkerSeverity.Info;\r\n    }\r\n}\r\nfunction toDiagnostics(resource, diag) {\r\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\r\n    return {\r\n        severity: toSeverity(diag.severity),\r\n        startLineNumber: diag.range.start.line + 1,\r\n        startColumn: diag.range.start.character + 1,\r\n        endLineNumber: diag.range.end.line + 1,\r\n        endColumn: diag.range.end.character + 1,\r\n        message: diag.message,\r\n        code: code,\r\n        source: diag.source\r\n    };\r\n}\r\n// --- completion ------\r\nfunction fromPosition(position) {\r\n    if (!position) {\r\n        return void 0;\r\n    }\r\n    return { character: position.column - 1, line: position.lineNumber - 1 };\r\n}\r\nfunction fromRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return { start: { line: range.startLineNumber - 1, character: range.startColumn - 1 }, end: { line: range.endLineNumber - 1, character: range.endColumn - 1 } };\r\n}\r\nfunction toRange(range) {\r\n    if (!range) {\r\n        return void 0;\r\n    }\r\n    return new monaco.Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\r\n}\r\nfunction toCompletionItemKind(kind) {\r\n    var mItemKind = monaco.languages.CompletionItemKind;\r\n    switch (kind) {\r\n        case ls.CompletionItemKind.Text: return mItemKind.Text;\r\n        case ls.CompletionItemKind.Method: return mItemKind.Method;\r\n        case ls.CompletionItemKind.Function: return mItemKind.Function;\r\n        case ls.CompletionItemKind.Constructor: return mItemKind.Constructor;\r\n        case ls.CompletionItemKind.Field: return mItemKind.Field;\r\n        case ls.CompletionItemKind.Variable: return mItemKind.Variable;\r\n        case ls.CompletionItemKind.Class: return mItemKind.Class;\r\n        case ls.CompletionItemKind.Interface: return mItemKind.Interface;\r\n        case ls.CompletionItemKind.Module: return mItemKind.Module;\r\n        case ls.CompletionItemKind.Property: return mItemKind.Property;\r\n        case ls.CompletionItemKind.Unit: return mItemKind.Unit;\r\n        case ls.CompletionItemKind.Value: return mItemKind.Value;\r\n        case ls.CompletionItemKind.Enum: return mItemKind.Enum;\r\n        case ls.CompletionItemKind.Keyword: return mItemKind.Keyword;\r\n        case ls.CompletionItemKind.Snippet: return mItemKind.Snippet;\r\n        case ls.CompletionItemKind.Color: return mItemKind.Color;\r\n        case ls.CompletionItemKind.File: return mItemKind.File;\r\n        case ls.CompletionItemKind.Reference: return mItemKind.Reference;\r\n    }\r\n    return mItemKind.Property;\r\n}\r\nfunction toTextEdit(textEdit) {\r\n    if (!textEdit) {\r\n        return void 0;\r\n    }\r\n    return {\r\n        range: toRange(textEdit.range),\r\n        text: textEdit.newText\r\n    };\r\n}\r\nvar CompletionAdapter = /** @class */ (function () {\r\n    function CompletionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\r\n        get: function () {\r\n            return [' ', ':'];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\r\n        var wordInfo = model.getWordUntilPosition(position);\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doComplete(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            var items = info.items.map(function (entry) {\r\n                var item = {\r\n                    label: entry.label,\r\n                    insertText: entry.insertText || entry.label,\r\n                    sortText: entry.sortText,\r\n                    filterText: entry.filterText,\r\n                    documentation: entry.documentation,\r\n                    detail: entry.detail,\r\n                    kind: toCompletionItemKind(entry.kind),\r\n                };\r\n                if (entry.textEdit) {\r\n                    item.range = toRange(entry.textEdit.range);\r\n                    item.insertText = entry.textEdit.newText;\r\n                }\r\n                if (entry.additionalTextEdits) {\r\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                if (entry.insertTextFormat === ls.InsertTextFormat.Snippet) {\r\n                    item.insertTextRules = monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet;\r\n                }\r\n                return item;\r\n            });\r\n            return {\r\n                isIncomplete: info.isIncomplete,\r\n                suggestions: items\r\n            };\r\n        });\r\n    };\r\n    return CompletionAdapter;\r\n}());\r\nexport { CompletionAdapter };\r\nfunction isMarkupContent(thing) {\r\n    return thing && typeof thing === 'object' && typeof thing.kind === 'string';\r\n}\r\nfunction toMarkdownString(entry) {\r\n    if (typeof entry === 'string') {\r\n        return {\r\n            value: entry\r\n        };\r\n    }\r\n    if (isMarkupContent(entry)) {\r\n        if (entry.kind === 'plaintext') {\r\n            return {\r\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\r\n            };\r\n        }\r\n        return {\r\n            value: entry.value\r\n        };\r\n    }\r\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\r\n}\r\nfunction toMarkedStringArray(contents) {\r\n    if (!contents) {\r\n        return void 0;\r\n    }\r\n    if (Array.isArray(contents)) {\r\n        return contents.map(toMarkdownString);\r\n    }\r\n    return [toMarkdownString(contents)];\r\n}\r\n// --- hover ------\r\nvar HoverAdapter = /** @class */ (function () {\r\n    function HoverAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doHover(resource.toString(), fromPosition(position));\r\n        }).then(function (info) {\r\n            if (!info) {\r\n                return;\r\n            }\r\n            return {\r\n                range: toRange(info.range),\r\n                contents: toMarkedStringArray(info.contents)\r\n            };\r\n        });\r\n    };\r\n    return HoverAdapter;\r\n}());\r\nexport { HoverAdapter };\r\n// --- document highlights ------\r\nfunction toDocumentHighlightKind(kind) {\r\n    switch (kind) {\r\n        case ls.DocumentHighlightKind.Read: return monaco.languages.DocumentHighlightKind.Read;\r\n        case ls.DocumentHighlightKind.Write: return monaco.languages.DocumentHighlightKind.Write;\r\n        case ls.DocumentHighlightKind.Text: return monaco.languages.DocumentHighlightKind.Text;\r\n    }\r\n    return monaco.languages.DocumentHighlightKind.Text;\r\n}\r\nvar DocumentHighlightAdapter = /** @class */ (function () {\r\n    function DocumentHighlightAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.findDocumentHighlights(resource.toString(), fromPosition(position));\r\n        }).then(function (entries) {\r\n            if (!entries) {\r\n                return;\r\n            }\r\n            return entries.map(function (entry) {\r\n                return {\r\n                    range: toRange(entry.range),\r\n                    kind: toDocumentHighlightKind(entry.kind)\r\n                };\r\n            });\r\n        });\r\n    };\r\n    return DocumentHighlightAdapter;\r\n}());\r\nexport { DocumentHighlightAdapter };\r\n// --- definition ------\r\nfunction toLocation(location) {\r\n    return {\r\n        uri: Uri.parse(location.uri),\r\n        range: toRange(location.range)\r\n    };\r\n}\r\nvar DefinitionAdapter = /** @class */ (function () {\r\n    function DefinitionAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.findDefinition(resource.toString(), fromPosition(position));\r\n        }).then(function (definition) {\r\n            if (!definition) {\r\n                return;\r\n            }\r\n            return [toLocation(definition)];\r\n        });\r\n    };\r\n    return DefinitionAdapter;\r\n}());\r\nexport { DefinitionAdapter };\r\n// --- references ------\r\nvar ReferenceAdapter = /** @class */ (function () {\r\n    function ReferenceAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.findReferences(resource.toString(), fromPosition(position));\r\n        }).then(function (entries) {\r\n            if (!entries) {\r\n                return;\r\n            }\r\n            return entries.map(toLocation);\r\n        });\r\n    };\r\n    return ReferenceAdapter;\r\n}());\r\nexport { ReferenceAdapter };\r\n// --- rename ------\r\nfunction toWorkspaceEdit(edit) {\r\n    if (!edit || !edit.changes) {\r\n        return void 0;\r\n    }\r\n    var resourceEdits = [];\r\n    for (var uri in edit.changes) {\r\n        var edits = [];\r\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\r\n            var e = _a[_i];\r\n            edits.push({\r\n                range: toRange(e.range),\r\n                text: e.newText\r\n            });\r\n        }\r\n        resourceEdits.push({ resource: Uri.parse(uri), edits: edits });\r\n    }\r\n    return {\r\n        edits: resourceEdits\r\n    };\r\n}\r\nvar RenameAdapter = /** @class */ (function () {\r\n    function RenameAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) {\r\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\r\n        }).then(function (edit) {\r\n            return toWorkspaceEdit(edit);\r\n        });\r\n    };\r\n    return RenameAdapter;\r\n}());\r\nexport { RenameAdapter };\r\n// --- document symbols ------\r\nfunction toSymbolKind(kind) {\r\n    var mKind = monaco.languages.SymbolKind;\r\n    switch (kind) {\r\n        case ls.SymbolKind.File: return mKind.Array;\r\n        case ls.SymbolKind.Module: return mKind.Module;\r\n        case ls.SymbolKind.Namespace: return mKind.Namespace;\r\n        case ls.SymbolKind.Package: return mKind.Package;\r\n        case ls.SymbolKind.Class: return mKind.Class;\r\n        case ls.SymbolKind.Method: return mKind.Method;\r\n        case ls.SymbolKind.Property: return mKind.Property;\r\n        case ls.SymbolKind.Field: return mKind.Field;\r\n        case ls.SymbolKind.Constructor: return mKind.Constructor;\r\n        case ls.SymbolKind.Enum: return mKind.Enum;\r\n        case ls.SymbolKind.Interface: return mKind.Interface;\r\n        case ls.SymbolKind.Function: return mKind.Function;\r\n        case ls.SymbolKind.Variable: return mKind.Variable;\r\n        case ls.SymbolKind.Constant: return mKind.Constant;\r\n        case ls.SymbolKind.String: return mKind.String;\r\n        case ls.SymbolKind.Number: return mKind.Number;\r\n        case ls.SymbolKind.Boolean: return mKind.Boolean;\r\n        case ls.SymbolKind.Array: return mKind.Array;\r\n    }\r\n    return mKind.Function;\r\n}\r\nvar DocumentSymbolAdapter = /** @class */ (function () {\r\n    function DocumentSymbolAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentSymbols(resource.toString()); }).then(function (items) {\r\n            if (!items) {\r\n                return;\r\n            }\r\n            return items.map(function (item) { return ({\r\n                name: item.name,\r\n                detail: '',\r\n                containerName: item.containerName,\r\n                kind: toSymbolKind(item.kind),\r\n                range: toRange(item.location.range),\r\n                selectionRange: toRange(item.location.range)\r\n            }); });\r\n        });\r\n    };\r\n    return DocumentSymbolAdapter;\r\n}());\r\nexport { DocumentSymbolAdapter };\r\nvar DocumentColorAdapter = /** @class */ (function () {\r\n    function DocumentColorAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.findDocumentColors(resource.toString()); }).then(function (infos) {\r\n            if (!infos) {\r\n                return;\r\n            }\r\n            return infos.map(function (item) { return ({\r\n                color: item.color,\r\n                range: toRange(item.range)\r\n            }); });\r\n        });\r\n    };\r\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range)); }).then(function (presentations) {\r\n            if (!presentations) {\r\n                return;\r\n            }\r\n            return presentations.map(function (presentation) {\r\n                var item = {\r\n                    label: presentation.label,\r\n                };\r\n                if (presentation.textEdit) {\r\n                    item.textEdit = toTextEdit(presentation.textEdit);\r\n                }\r\n                if (presentation.additionalTextEdits) {\r\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\r\n                }\r\n                return item;\r\n            });\r\n        });\r\n    };\r\n    return DocumentColorAdapter;\r\n}());\r\nexport { DocumentColorAdapter };\r\nvar FoldingRangeAdapter = /** @class */ (function () {\r\n    function FoldingRangeAdapter(_worker) {\r\n        this._worker = _worker;\r\n    }\r\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\r\n        var resource = model.uri;\r\n        return this._worker(resource).then(function (worker) { return worker.provideFoldingRanges(resource.toString(), context); }).then(function (ranges) {\r\n            if (!ranges) {\r\n                return;\r\n            }\r\n            return ranges.map(function (range) {\r\n                var result = {\r\n                    start: range.startLine + 1,\r\n                    end: range.endLine + 1\r\n                };\r\n                if (typeof range.kind !== 'undefined') {\r\n                    result.kind = toFoldingRangeKind(range.kind);\r\n                }\r\n                return result;\r\n            });\r\n        });\r\n    };\r\n    return FoldingRangeAdapter;\r\n}());\r\nexport { FoldingRangeAdapter };\r\nfunction toFoldingRangeKind(kind) {\r\n    switch (kind) {\r\n        case ls.FoldingRangeKind.Comment: return monaco.languages.FoldingRangeKind.Comment;\r\n        case ls.FoldingRangeKind.Imports: return monaco.languages.FoldingRangeKind.Imports;\r\n        case ls.FoldingRangeKind.Region: return monaco.languages.FoldingRangeKind.Region;\r\n    }\r\n    return void 0;\r\n}\r\n","/*---------------------------------------------------------------------------------------------\r\n *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n *--------------------------------------------------------------------------------------------*/\r\n'use strict';\r\nimport { WorkerManager } from './workerManager.js';\r\nimport * as languageFeatures from './languageFeatures.js';\r\nexport function setupMode(defaults) {\r\n    var client = new WorkerManager(defaults);\r\n    var worker = function (first) {\r\n        var more = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            more[_i - 1] = arguments[_i];\r\n        }\r\n        return client.getLanguageServiceWorker.apply(client, [first].concat(more));\r\n    };\r\n    var languageId = defaults.languageId;\r\n    monaco.languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker));\r\n    monaco.languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker));\r\n    monaco.languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker));\r\n    monaco.languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker));\r\n    monaco.languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker));\r\n    monaco.languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker));\r\n    monaco.languages.registerRenameProvider(languageId, new languageFeatures.RenameAdapter(worker));\r\n    monaco.languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker));\r\n    monaco.languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker));\r\n    new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults);\r\n}\r\n"]}